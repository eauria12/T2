{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/CAELOS JR 2018/Documents/Proyecto StockTaking/Stocktaking-G2/Cliente/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/obtener-permisos.service\";\nimport * as i2 from \"src/app/services/resources/local.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/list\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"../ui-components/lists/lista-locales/lista-locales.component\";\nimport * as i10 from \"../ui-components/filtro-fecha/filtro-fecha.component\";\nimport * as i11 from \"../ui-components/codigo-articulo/codigo-articulo.component\";\nimport * as i12 from \"../ui-components/tabla-kardex/tabla-kardex.component\";\nconst _c0 = [\"nivel\"];\nconst _c1 = [\"zon\"];\nconst _c2 = [\"lineArt\"];\nfunction KardexMercaderiaComponent_mat_list_option_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list-option\", 30);\n    i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_mat_list_option_31_Template_mat_list_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const zon_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onZonaSeleccionada(zon_r7));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const zon_r7 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", zon_r7);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", zon_r7, \" \");\n  }\n}\nfunction KardexMercaderiaComponent_mat_list_option_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-option\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pr_r10 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", ctx_r4.presentacion);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", pr_r10, \" \");\n  }\n}\nexport class KardexMercaderiaComponent {\n  constructor(permisos, LocalIdService) {\n    this.permisos = permisos;\n    this.LocalIdService = LocalIdService;\n    this.buscarClicked = false;\n    this.fechaInicio = new Date(1900, 1, 1);\n    this.fechaFin = new Date(2200, 31, 12);\n    this.localesSeleccionados = [];\n    this.zonaSelected = false;\n    this.lineasSeleccionadas = [];\n    this.opcionesNivel = [];\n    this.NivelLocal = \"\";\n    this.listaPermisos = [];\n    this.codigosElegidos = [];\n    this.lineasDisponibles = \"\";\n    this.localesDisponibles = [];\n    this.codigoServicio = \"080509\";\n    this.mostrarListaLineas = true;\n    this.mostrarFiltroCodigo = false;\n    this.typesOfNivel = ['Nacional', 'Zona', 'Local'];\n    this.presentacion = ['Movimientos por Local', 'Movimientos en Locales'];\n    this.zona = ['Nacional', 'Zona Centro-Norte', 'Zona Sur'];\n    this.acceso = false;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.listaPermisos = yield _this.permisos.getPermisosSafe(_this.codigoServicio);\n      _this.opcionesNivel = yield _this.permisos.permisosNivel(_this.codigoServicio);\n      _this.permisoCostoUnitario = yield _this.permisos.permisoCostoUnitario(_this.codigoServicio);\n      _this.lineasDisponibles = yield _this.permisos.lineasDisponibles(_this.codigoServicio);\n      _this.localesDisponibles = yield _this.permisos.localesDisponibles(_this.codigoServicio);\n      _this.acceso = true;\n      _this.localId = _this.LocalIdService.getLocalId();\n    })();\n  }\n  handleLocalesSeleccionados(locales) {\n    this.localesSeleccionados = locales;\n  }\n  handleFechaInicio(Incio) {\n    this.fechaInicio = Incio;\n  }\n  handleFechaFin(Fin) {\n    this.fechaFin = Fin;\n  }\n  handleNivelSeleccionado() {\n    // Verificamos si \"Nacional\" está seleccionado\n    if (this.nivelList.selectedOptions.selected.length > 0) {\n      if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[0]) {\n        this.zonaSelected = false;\n        this.NivelLocal = \"Nacional\";\n        console.log(\"Seleccione nacional\");\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[1]) {\n        this.zonaSelected = true;\n        console.log(\"Seleccione Zona\");\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[2]) {\n        this.zonaSelected = false;\n        this.NivelLocal = \"Local\";\n        console.log(\"Seleccione Local\");\n      }\n    }\n  }\n  handleCodigosElegidos(codigos) {\n    this.codigosElegidos = codigos;\n    console.log(this.codigosElegidos);\n  }\n  onZonaSeleccionada(zon) {\n    if (this.zonaList.selectedOptions.selected.length > 0) {\n      if (zon === \"Nacional\") {\n        this.NivelLocal = \"Nacional\";\n        console.log(\"Seleccione nacional\");\n      } else if (zon === this.zona[1]) {\n        this.NivelLocal = \"Zona 1\";\n        console.log(\"Seleccione Centro-Norte\");\n      } else if (zon === this.zona[2]) {\n        this.NivelLocal = \"Zona 2\";\n        console.log(\"Seleccione Sur\");\n      }\n    }\n  }\n  buscarLocales() {\n    //this.buscarClicked = true;\n  }\n  limpiar() {\n    window.location.href = \"/saldo-inventario\";\n  }\n  //borrar despues solo para pruebas\n  imprimirTabla() {\n    this.buscarClicked = true;\n    console.log(\"hola again\");\n    console.log(this.localesSeleccionados);\n    console.log(this.lineasSeleccionadas);\n  }\n}\nKardexMercaderiaComponent.ɵfac = function KardexMercaderiaComponent_Factory(t) {\n  return new (t || KardexMercaderiaComponent)(i0.ɵɵdirectiveInject(i1.ObtenerPermisosService), i0.ɵɵdirectiveInject(i2.LocalIdService));\n};\nKardexMercaderiaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: KardexMercaderiaComponent,\n  selectors: [[\"app-kardex-mercaderia\"]],\n  viewQuery: function KardexMercaderiaComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(_c2, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.nivelList = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zonaList = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.lineArt = _t.first);\n    }\n  },\n  decls: 60,\n  vars: 17,\n  consts: [[1, \"row\"], [1, \"col-sm-12\"], [1, \"cardWithShadow\", \"theme-card\"], [1, \"icon-title\"], [1, \"m-b-0\", \"title\"], [1, \"icon\"], [1, \"b-t-1\"], [1, \"col-md-7\"], [1, \"col-sm-4\"], [3, \"multiple\"], [\"nivel\", \"\"], [3, \"value\", \"disabled\", \"click\"], [1, \"b-1\", \"shadow-none\"], [3, \"disabled\", \"multiple\"], [\"zon\", \"\"], [3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"present\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"codigo-articulo\"], [3, \"disabled\", \"lineasDisponibles\", \"codigosEscogidos\"], [3, \"disabled\", \"fechaInicioEnvio\", \"fechaFinEnvio\"], [\"fechasElegidas\", \"\"], [1, \"col-md-5\"], [1, \"col-sm-6\"], [3, \"localesDisponibles\", \"NivelLocal\", \"localesSeleccionados\"], [\"localesElegidos\", \"\"], [1, \"col-sm-12\", \"style-buscar\"], [1, \"buttons\"], [\"mat-flat-button\", \"\", \"color\", \"warn\", 1, \"m-t-8\", 3, \"click\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", 1, \"m-t-8\", 3, \"click\"], [3, \"value\", \"click\"], [3, \"value\"]],\n  template: function KardexMercaderiaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"mat-card\", 2)(3, \"mat-card-header\", 3)(4, \"mat-card-title\", 4)(5, \"mat-icon\", 5);\n      i0.ɵɵtext(6, \"search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"span\");\n      i0.ɵɵtext(8, \"Filtros de B\\u00FAsqueda\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"mat-card-content\", 6)(10, \"form\")(11, \"div\", 0)(12, \"div\", 7)(13, \"div\", 0)(14, \"div\", 8)(15, \"mat-card-title\");\n      i0.ɵɵtext(16, \"Nivel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"mat-selection-list\", 9, 10)(19, \"mat-list-option\", 11);\n      i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_Template_mat_list_option_click_19_listener() {\n        return ctx.handleNivelSeleccionado();\n      });\n      i0.ɵɵtext(20, \"Nacional\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"mat-list-option\", 11);\n      i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_Template_mat_list_option_click_21_listener() {\n        return ctx.handleNivelSeleccionado();\n      });\n      i0.ɵɵtext(22, \"Zona\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"mat-list-option\", 11);\n      i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_Template_mat_list_option_click_23_listener() {\n        return ctx.handleNivelSeleccionado();\n      });\n      i0.ɵɵtext(24, \"Local\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"div\", 8)(26, \"mat-card-title\");\n      i0.ɵɵtext(27, \" Zonas \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"mat-card\", 12)(29, \"mat-selection-list\", 13, 14);\n      i0.ɵɵtemplate(31, KardexMercaderiaComponent_mat_list_option_31_Template, 2, 2, \"mat-list-option\", 15);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(32, \"div\", 8)(33, \"mat-card-title\");\n      i0.ɵɵtext(34, \"Presentaci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"mat-selection-list\", 9, 16);\n      i0.ɵɵtemplate(37, KardexMercaderiaComponent_mat_list_option_37_Template, 2, 2, \"mat-list-option\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 1)(39, \"div\", 18)(40, \"app-codigo-articulo\", 19);\n      i0.ɵɵlistener(\"codigosEscogidos\", function KardexMercaderiaComponent_Template_app_codigo_articulo_codigosEscogidos_40_listener($event) {\n        return ctx.handleCodigosElegidos($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(41, \"div\", 1)(42, \"div\")(43, \"app-filtro-fecha\", 20, 21);\n      i0.ɵɵlistener(\"fechaInicioEnvio\", function KardexMercaderiaComponent_Template_app_filtro_fecha_fechaInicioEnvio_43_listener($event) {\n        return ctx.handleFechaInicio($event);\n      })(\"fechaFinEnvio\", function KardexMercaderiaComponent_Template_app_filtro_fecha_fechaFinEnvio_43_listener($event) {\n        return ctx.handleFechaFin($event);\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(45, \"div\", 22)(46, \"div\", 0)(47, \"div\", 23)(48, \"app-lista-locales\", 24, 25);\n      i0.ɵɵlistener(\"localesSeleccionados\", function KardexMercaderiaComponent_Template_app_lista_locales_localesSeleccionados_48_listener($event) {\n        return ctx.handleLocalesSeleccionados($event);\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(50, \"div\", 0)(51, \"div\", 26)(52, \"div\", 27)(53, \"button\", 28);\n      i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_Template_button_click_53_listener() {\n        return ctx.imprimirTabla();\n      });\n      i0.ɵɵtext(54, \" Buscar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"button\", 29);\n      i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_Template_button_click_55_listener() {\n        return ctx.limpiar();\n      });\n      i0.ɵɵtext(56, \" Limpiar \");\n      i0.ɵɵelementEnd()()()()()()()()();\n      i0.ɵɵelementStart(57, \"div\", 0)(58, \"div\", 1);\n      i0.ɵɵelement(59, \"app-tabla-kardex\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"multiple\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.typesOfNivel[0])(\"disabled\", !ctx.opcionesNivel[0]);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.typesOfNivel[1])(\"disabled\", !ctx.opcionesNivel[1]);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.typesOfNivel[2])(\"disabled\", !ctx.opcionesNivel[2]);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"disabled\", !ctx.zonaSelected)(\"multiple\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.zona);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"multiple\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.presentacion);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.mostrarFiltroCodigo)(\"lineasDisponibles\", ctx.lineasDisponibles);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.mostrarFiltroCodigo);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"localesDisponibles\", ctx.localesDisponibles)(\"NivelLocal\", ctx.NivelLocal);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.MatCard, i4.MatCardContent, i4.MatCardHeader, i4.MatCardTitle, i5.MatSelectionList, i5.MatListOption, i6.MatButton, i7.MatIcon, i8.ɵNgNoValidate, i8.NgControlStatusGroup, i8.NgForm, i9.ListaLocalesComponent, i10.FiltroFechaComponent, i11.CodigoArticuloComponent, i12.TablaKardexComponent],\n  styles: [\".icon-title[_ngcontent-%COMP%] {\\n  background-color: #faac36;\\n  color: white;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.icon[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\n.buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n  padding: 10px 30px 0 30px;\\n}\\n\\n.radio-horizontal[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n\\n.style-buscar[_ngcontent-%COMP%] {\\n  padding-left: 40%;\\n  padding-right: 40%;\\n}\\n\\n.codigo-articulo[_ngcontent-%COMP%] {\\n  padding: 20px 0px 10px;\\n  position: relative;\\n}\\n\\n.style2[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMva2FyZGV4LW1lcmNhZGVyaWEva2FyZGV4LW1lcmNhZGVyaWEuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi8uLi8uLi8uLi9DQUVMT1MlMjBKUiUyMDIwMTgvRG9jdW1lbnRzL1Byb3llY3RvJTIwU3RvY2tUYWtpbmcvU3RvY2t0YWtpbmctRzIvQ2xpZW50ZS9zcmMvYXBwL3BhZ2VzL2thcmRleC1tZXJjYWRlcmlhL2thcmRleC1tZXJjYWRlcmlhLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxhQUFBO0VBQ0EsOEJBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0FDQ0o7O0FERUE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFFQSxTQUFBO0VBQ0EseUJBQUE7QUNBSjs7QURHQTtFQUNJLGFBQUE7QUNBSjs7QURHQTtFQUNHLGlCQUFBO0VBQ0Esa0JBQUE7QUNBSDs7QURHQTtFQUNJLHNCQUFBO0VBQ0Esa0JBQUE7QUNBSjs7QURHQTtFQUNJLGFBQUE7RUFDQSx1QkFBQTtBQ0FKIiwic291cmNlc0NvbnRlbnQiOlsiLmljb24tdGl0bGUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZhYWMzNjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLnRpdGxlIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuXHJcbi5pY29uIHtcclxuICAgIG1hcmdpbi1yaWdodDogMTBweDtcclxufVxyXG5cclxuLmJ1dHRvbnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAvL2p1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgZ2FwOiAxMHB4O1xyXG4gICAgcGFkZGluZzogMTBweCAzMHB4IDAgMzBweDsgICBcclxufVxyXG5cclxuLnJhZGlvLWhvcml6b250YWwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxufVxyXG5cclxuLnN0eWxlLWJ1c2NhciB7XHJcbiAgIHBhZGRpbmctbGVmdDogNDAlO1xyXG4gICBwYWRkaW5nLXJpZ2h0OiA0MCU7XHJcbn1cclxuXHJcbi5jb2RpZ28tYXJ0aWN1bG8ge1xyXG4gICAgcGFkZGluZzogMjBweCAwcHggMTBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLnN0eWxlMiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuIiwiLmljb24tdGl0bGUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFhYzM2O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi50aXRsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLmljb24ge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5idXR0b25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxMHB4O1xuICBwYWRkaW5nOiAxMHB4IDMwcHggMCAzMHB4O1xufVxuXG4ucmFkaW8taG9yaXpvbnRhbCB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbi5zdHlsZS1idXNjYXIge1xuICBwYWRkaW5nLWxlZnQ6IDQwJTtcbiAgcGFkZGluZy1yaWdodDogNDAlO1xufVxuXG4uY29kaWdvLWFydGljdWxvIHtcbiAgcGFkZGluZzogMjBweCAwcHggMTBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uc3R5bGUyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","KardexMercaderiaComponent","constructor","permisos","LocalIdService","Date","ngOnInit","listaPermisos","getPermisosSafe","codigoServicio","opcionesNivel","permisosNivel","permisoCostoUnitario","lineasDisponibles","localesDisponibles","acceso","localId","getLocalId","handleLocalesSeleccionados","locales","localesSeleccionados","handleFechaInicio","Incio","fechaInicio","handleFechaFin","Fin","fechaFin","handleNivelSeleccionado","nivelList","selectedOptions","selected","length","value","typesOfNivel","zonaSelected","NivelLocal","console","log","handleCodigosElegidos","codigos","codigosElegidos","onZonaSeleccionada","zon","zonaList","zona","buscarLocales","limpiar","window","location","href","imprimirTabla","buscarClicked","lineasSeleccionadas","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\CAELOS JR 2018\\Documents\\Proyecto StockTaking\\Stocktaking-G2\\Cliente\\src\\app\\pages\\kardex-mercaderia\\kardex-mercaderia.component.html","C:\\Users\\CAELOS JR 2018\\Documents\\Proyecto StockTaking\\Stocktaking-G2\\Cliente\\src\\app\\pages\\kardex-mercaderia\\kardex-mercaderia.component.ts"],"sourcesContent":["<div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <mat-card class=\"cardWithShadow theme-card\">\r\n        <mat-card-header class=\"icon-title\">\r\n          <mat-card-title class=\"m-b-0 title\">\r\n            <mat-icon class=\"icon\">search</mat-icon><span>Filtros de Búsqueda</span>\r\n          </mat-card-title>\r\n        </mat-card-header>\r\n  \r\n        <mat-card-content class=\"b-t-1\">\r\n          <form>\r\n            <div class=\"row\">\r\n              <div class=\"col-md-7\">\r\n                <div class=\"row\">\r\n  \r\n                  <div class=\"col-sm-4\">\r\n                    <mat-card-title>Nivel</mat-card-title>\r\n                    <mat-selection-list #nivel [multiple]=\"false\">\r\n                      <mat-list-option [value]=\"typesOfNivel[0]\" [disabled]=\"!opcionesNivel[0]\"\r\n                        (click)=\"handleNivelSeleccionado()\">Nacional</mat-list-option>\r\n                      <mat-list-option [value]=\"typesOfNivel[1]\" [disabled]=\"!opcionesNivel[1]\"\r\n                        (click)=\"handleNivelSeleccionado()\">Zona</mat-list-option>\r\n                      <mat-list-option [value]=\"typesOfNivel[2]\" [disabled]=\"!opcionesNivel[2]\"\r\n                        (click)=\"handleNivelSeleccionado()\">Local</mat-list-option>\r\n                    </mat-selection-list>\r\n                  </div>\r\n  \r\n                  <div class=\"col-sm-4\">\r\n                    <mat-card-title> Zonas </mat-card-title>\r\n                    <mat-card class=\"b-1 shadow-none\">        \r\n                        <mat-selection-list #zon [disabled]=\"!zonaSelected\" [multiple]=\"false\">\r\n                          <mat-list-option *ngFor=\"let zon of zona\" [value]=\"zon\" (click)=\"onZonaSeleccionada(zon)\">\r\n                            {{ zon }}\r\n                          </mat-list-option>\r\n                        </mat-selection-list>\r\n                    </mat-card>\r\n                  </div>\r\n  \r\n                  <div class=\"col-sm-4\">\r\n                    <mat-card-title>Presentación</mat-card-title>\r\n                    <mat-selection-list #present [multiple]=\"false\">\r\n                      <mat-list-option *ngFor=\"let pr of presentacion\" [value]=\"presentacion\">\r\n                        {{ pr }}\r\n                      </mat-list-option>\r\n                    </mat-selection-list>\r\n                  </div>\r\n  \r\n                  <div class=\"col-sm-12\">\r\n                    <div class=\"codigo-articulo\">\r\n                        <app-codigo-articulo [disabled]=\"!mostrarFiltroCodigo\" (codigosEscogidos)=\"handleCodigosElegidos($event)\"\r\n                  [lineasDisponibles]=\"lineasDisponibles\"></app-codigo-articulo>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div class=\"col-sm-12\">\r\n                    <div>\r\n                        <app-filtro-fecha #fechasElegidas (fechaInicioEnvio)=\"handleFechaInicio($event)\" (fechaFinEnvio)=\"handleFechaFin($event)\" [disabled]=\"!mostrarFiltroCodigo\"></app-filtro-fecha>\r\n                    </div>\r\n                  </div>\r\n  \r\n                </div>\r\n              </div>\r\n  \r\n              <div class=\"col-md-5\">\r\n                <div class=\"row\">\r\n  \r\n                  <div class=\"col-sm-6\">\r\n                    <app-lista-locales #localesElegidos (localesSeleccionados)=\"handleLocalesSeleccionados($event)\"\r\n                      [localesDisponibles]=\"localesDisponibles\" [NivelLocal]=\"NivelLocal\">\r\n                    </app-lista-locales>\r\n                  </div>\r\n  \r\n                </div>\r\n              </div>\r\n  \r\n            </div>\r\n  \r\n  \r\n            <div class=\"row\">\r\n              <div class=\"col-sm-12 style-buscar\">\r\n                <div class=\"buttons\">\r\n                  <button mat-flat-button color=\"warn\" class=\"m-t-8\" (click)=\"imprimirTabla()\">\r\n                    Buscar\r\n                  </button>\r\n                  <button mat-flat-button color=\"accent\" class=\"m-t-8\" (click)=\"limpiar()\">\r\n                    Limpiar\r\n                  </button>\r\n                </div>\r\n  \r\n              </div>\r\n  \r\n            </div>\r\n  \r\n          </form>\r\n        </mat-card-content>\r\n      </mat-card>\r\n    </div>\r\n  </div>\r\n  \r\n  \r\n  <div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <app-tabla-kardex></app-tabla-kardex>\r\n    </div>\r\n  </div>\r\n","import { Component, NgModule, ViewChild } from '@angular/core';\r\nimport { MatSelectionList } from '@angular/material/list';\r\nimport { TablasComponent } from '../ui-components/tablas/tablas.component';\r\nimport { Permiso } from 'src/app/interfaces/permiso';\r\nimport { ObtenerPermisosService } from 'src/app/services/obtener-permisos.service'\r\nimport { LocalIdService } from 'src/app/services/resources/local.service';\r\n\r\n@Component({\r\n  selector: 'app-kardex-mercaderia',\r\n  templateUrl: './kardex-mercaderia.component.html',\r\n  styleUrls: ['./kardex-mercaderia.component.scss']\r\n})\r\nexport class KardexMercaderiaComponent {\r\n  @ViewChild('nivel') nivelList: MatSelectionList;\r\n  @ViewChild('zon') zonaList: MatSelectionList;\r\n  @ViewChild('lineArt') lineArt: MatSelectionList;\r\n  \r\n  protected buscarClicked: boolean = false;\r\n  fechaInicio: Date = new Date(1900, 1, 1);\r\n  fechaFin: Date = new Date(2200, 31, 12);\r\n  localesSeleccionados: any[] = [];\r\n  zonaSelected: boolean = false;\r\n  lineasSeleccionadas: any[] = [];\r\n  opcionesNivel: boolean[] = []\r\n  NivelLocal: String = \"\";\r\n  listaPermisos: Permiso[] = [];\r\n  codigosElegidos: number[] = []\r\n  lineasDisponibles: String = \"\";\r\n  localesDisponibles: number[] = [];\r\n  codigoServicio: String = \"080509\";\r\n  permisoCostoUnitario: boolean;\r\n  localId: string | null;\r\n  mostrarListaLineas:boolean = true;\r\n  mostrarFiltroCodigo:boolean = false;\r\n\r\n  constructor(private permisos: ObtenerPermisosService, private LocalIdService: LocalIdService) { }\r\n\r\n  typesOfNivel: string[] = ['Nacional', 'Zona', 'Local'];\r\n  presentacion: string[] = ['Movimientos por Local', 'Movimientos en Locales'];\r\n  zona: string[] = ['Nacional', 'Zona Centro-Norte', 'Zona Sur'];\r\n  acceso: boolean = false\r\n\r\n  async ngOnInit() {\r\n    this.listaPermisos = await this.permisos.getPermisosSafe(this.codigoServicio);\r\n    this.opcionesNivel = await this.permisos.permisosNivel(this.codigoServicio);\r\n    this.permisoCostoUnitario = await this.permisos.permisoCostoUnitario(this.codigoServicio);\r\n    this.lineasDisponibles = await this.permisos.lineasDisponibles(this.codigoServicio);\r\n    this.localesDisponibles = await this.permisos.localesDisponibles(this.codigoServicio);\r\n    this.acceso = true;\r\n    this.localId = this.LocalIdService.getLocalId();\r\n  }\r\n\r\n\r\n  handleLocalesSeleccionados(locales: any[]) {\r\n    this.localesSeleccionados = locales;\r\n  }\r\n\r\n  handleFechaInicio(Incio: Date) {\r\n    this.fechaInicio = Incio;\r\n  }\r\n\r\n  handleFechaFin(Fin: Date) {\r\n    this.fechaFin = Fin;\r\n  }\r\n\r\n  handleNivelSeleccionado() {\r\n    // Verificamos si \"Nacional\" está seleccionado\r\n    if (this.nivelList.selectedOptions.selected.length > 0) {\r\n      if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[0]) {\r\n        this.zonaSelected = false;\r\n        this.NivelLocal = \"Nacional\";\r\n        console.log(\"Seleccione nacional\");\r\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[1]) {\r\n        this.zonaSelected = true;\r\n        console.log(\"Seleccione Zona\");\r\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[2]) {\r\n        this.zonaSelected = false;\r\n        this.NivelLocal = \"Local\";\r\n        console.log(\"Seleccione Local\");\r\n      }\r\n    }\r\n  }\r\n\r\n  handleCodigosElegidos(codigos: number[]) {\r\n    this.codigosElegidos = codigos;\r\n    console.log(this.codigosElegidos);\r\n  }\r\n\r\n  onZonaSeleccionada(zon: string) {\r\n    if (this.zonaList.selectedOptions.selected.length > 0) {\r\n      if (zon === \"Nacional\") {\r\n        this.NivelLocal = \"Nacional\";\r\n        console.log(\"Seleccione nacional\");\r\n      } else if (zon === this.zona[1]) {\r\n        this.NivelLocal = \"Zona 1\";\r\n        console.log(\"Seleccione Centro-Norte\");\r\n      } else if (zon === this.zona[2]) {\r\n        this.NivelLocal = \"Zona 2\";\r\n        console.log(\"Seleccione Sur\");\r\n      }\r\n    }\r\n  }\r\n\r\n  buscarLocales() {\r\n    //this.buscarClicked = true;\r\n  }\r\n\r\n  limpiar(){\r\n    window.location.href=\"/saldo-inventario\";\r\n  }\r\n\r\n  //borrar despues solo para pruebas\r\n\r\n  imprimirTabla() {\r\n    this.buscarClicked = true;\r\n    console.log(\"hola again\");\r\n    console.log(this.localesSeleccionados);\r\n    console.log(this.lineasSeleccionadas);\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}