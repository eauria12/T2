{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/CAELOS JR 2018/Documents/Proyecto StockTaking/Stocktaking-G2/Cliente/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/obtener-permisos.service\";\nimport * as i2 from \"src/app/services/resources/local.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"@angular/material/list\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"../ui-components/tablas/tablas.component\";\nimport * as i10 from \"../ui-components/lists/lista-locales/lista-locales.component\";\nimport * as i11 from \"../ui-components/lists/lista-lineas/lista-lineas.component\";\nimport * as i12 from \"../ui-components/codigo-articulo/codigo-articulo.component\";\nconst _c0 = [\"nivel\"];\nconst _c1 = [\"zon\"];\nconst _c2 = [\"lineArt\"];\nfunction SaldoInventarioComponent_mat_list_option_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list-option\", 33);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_list_option_31_Template_mat_list_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const zon_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onZonaSeleccionada(zon_r9));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const zon_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", zon_r9);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", zon_r9, \" \");\n  }\n}\nfunction SaldoInventarioComponent_mat_list_option_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-list-option\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pr_r12 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", ctx_r4.presentacion);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", pr_r12, \" \");\n  }\n}\nfunction SaldoInventarioComponent_mat_list_option_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list-option\", 33);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_list_option_41_Template_mat_list_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const linArt_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.filtraArticulos(linArt_r13));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const linArt_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", linArt_r13);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", linArt_r13, \" \");\n  }\n}\nfunction SaldoInventarioComponent_app_tablas_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-tablas\", 35);\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"localesMostrar\", ctx_r8.localesSeleccionados)(\"lineasMostrar\", ctx_r8.lineasSeleccionadas)(\"permisoCostoUnitario\", ctx_r8.permisoCostoUnitario)(\"fechaInicio\", ctx_r8.fechaInicio)(\"fechaFin\", ctx_r8.fechaFin)(\"codigosVisualizar\", ctx_r8.mostrarFiltroCodigo)(\"lineasVisualizar\", ctx_r8.mostrarListaLineas)(\"codigosEscogidos\", ctx_r8.codigosElegidos)(\"lineasDisponibles\", ctx_r8.lineasDisponibles);\n  }\n}\nexport class SaldoInventarioComponent {\n  constructor(permisos, LocalIdService) {\n    this.permisos = permisos;\n    this.LocalIdService = LocalIdService;\n    this.buscarClicked = false;\n    this.fechaInicio = new Date(1900, 1, 1);\n    this.fechaFin = new Date(2200, 31, 12);\n    this.localesSeleccionados = [];\n    this.zonaSelected = false;\n    this.lineasSeleccionadas = [];\n    this.opcionesNivel = [];\n    this.NivelLocal = \"\";\n    this.listaPermisos = [];\n    this.codigosElegidos = [];\n    this.lineasDisponibles = \"\";\n    this.localesDisponibles = [];\n    this.codigoServicio = \"080509\";\n    this.mostrarListaLineas = false;\n    this.mostrarFiltroCodigo = false;\n    this.typesOfNivel = ['Nacional', 'Zona', 'Local'];\n    this.presentacion = ['Saldos Consolidados', 'Saldos por Local'];\n    this.lineArticulo = ['Por Código de Artículo', 'Por Línea de Artículo'];\n    this.zona = ['Nacional', 'Zona Centro-Norte', 'Zona Sur'];\n    this.acceso = false;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.listaPermisos = yield _this.permisos.getPermisosSafe(_this.codigoServicio);\n      _this.opcionesNivel = yield _this.permisos.permisosNivel(_this.codigoServicio);\n      _this.permisoCostoUnitario = yield _this.permisos.permisoCostoUnitario(_this.codigoServicio);\n      _this.lineasDisponibles = yield _this.permisos.lineasDisponibles(_this.codigoServicio);\n      _this.localesDisponibles = yield _this.permisos.localesDisponibles(_this.codigoServicio);\n      _this.acceso = true;\n      _this.localId = _this.LocalIdService.getLocalId();\n    })();\n  }\n  handleLocalesSeleccionados(locales) {\n    this.localesSeleccionados = locales;\n  }\n  handleLineasSeleccionadas(lineas) {\n    this.lineasSeleccionadas = lineas;\n  }\n  handleFechaInicio(Incio) {\n    this.fechaInicio = Incio;\n  }\n  handleFechaFin(Fin) {\n    this.fechaFin = Fin;\n  }\n  handleNivelSeleccionado() {\n    // Verificamos si \"Nacional\" está seleccionado\n    if (this.nivelList.selectedOptions.selected.length > 0) {\n      if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[0]) {\n        this.zonaSelected = false;\n        this.NivelLocal = \"Nacional\";\n        console.log(\"Seleccione nacional\");\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[1]) {\n        this.zonaSelected = true;\n        console.log(\"Seleccione Zona\");\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[2]) {\n        this.zonaSelected = false;\n        this.NivelLocal = \"Local\";\n        console.log(\"Seleccione Local\");\n      }\n    }\n  }\n  handleCodigosElegidos(codigos) {\n    this.codigosElegidos = codigos;\n    console.log(this.codigosElegidos);\n  }\n  onZonaSeleccionada(zon) {\n    if (this.zonaList.selectedOptions.selected.length > 0) {\n      if (zon === \"Nacional\") {\n        this.NivelLocal = \"Nacional\";\n        console.log(\"Seleccione nacional\");\n      } else if (zon === this.zona[1]) {\n        this.NivelLocal = \"Zona 1\";\n        console.log(\"Seleccione Centro-Norte\");\n      } else if (zon === this.zona[2]) {\n        this.NivelLocal = \"Zona 2\";\n        console.log(\"Seleccione Sur\");\n      }\n    }\n  }\n  filtraArticulos(lineArticulo) {\n    console.log(\"Filtro \");\n    if (this.lineArt.selectedOptions.selected.length > 0) {\n      console.log(\"Evento Filtro \");\n      if (lineArticulo === this.lineArticulo[0]) {\n        this.mostrarListaLineas = false;\n        this.mostrarFiltroCodigo = true;\n        console.log(\"Filtro codigo\");\n      } else if (lineArticulo === this.lineArticulo[1]) {\n        this.mostrarListaLineas = true;\n        this.mostrarFiltroCodigo = false;\n        console.log(\"Lista lineas\");\n      }\n    }\n  }\n  buscarLocales() {\n    //this.buscarClicked = true;\n  }\n  limpiar() {\n    window.location.href = \"/saldo-inventario\";\n  }\n  //borrar despues solo para pruebas\n  imprimirTabla() {\n    this.buscarClicked = true;\n    console.log(\"hola again\");\n    console.log(this.localesSeleccionados);\n    console.log(this.lineasSeleccionadas);\n  }\n}\nSaldoInventarioComponent.ɵfac = function SaldoInventarioComponent_Factory(t) {\n  return new (t || SaldoInventarioComponent)(i0.ɵɵdirectiveInject(i1.ObtenerPermisosService), i0.ɵɵdirectiveInject(i2.LocalIdService));\n};\nSaldoInventarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SaldoInventarioComponent,\n  selectors: [[\"app-saldo-inventario\"]],\n  viewQuery: function SaldoInventarioComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(_c2, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.nivelList = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zonaList = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.lineArt = _t.first);\n    }\n  },\n  decls: 62,\n  vars: 21,\n  consts: [[1, \"row\"], [1, \"col-sm-12\"], [1, \"cardWithShadow\", \"theme-card\"], [1, \"icon-title\"], [1, \"m-b-0\", \"title\"], [1, \"icon\"], [1, \"b-t-1\"], [1, \"col-md-7\"], [1, \"col-sm-4\"], [3, \"multiple\"], [\"nivel\", \"\"], [3, \"value\", \"disabled\", \"click\"], [1, \"b-1\", \"shadow-none\"], [3, \"disabled\", \"multiple\"], [\"zon\", \"\"], [3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"present\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-sm-12\", \"style2\"], [1, \"radio-horizontal\", 3, \"multiple\"], [\"lineArt\", \"\"], [1, \"codigo-articulo\"], [3, \"disabled\", \"lineasDisponibles\", \"codigosEscogidos\"], [1, \"col-md-5\"], [1, \"col-sm-6\"], [3, \"lineasDisponibles\", \"disabled\", \"lineasSeleccionadas\"], [3, \"localesDisponibles\", \"NivelLocal\", \"localesSeleccionados\"], [\"localesElegidos\", \"\"], [1, \"col-sm-12\", \"style-buscar\"], [1, \"buttons\"], [\"mat-flat-button\", \"\", \"color\", \"warn\", 1, \"m-t-8\", 3, \"click\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", 1, \"m-t-8\", 3, \"click\"], [3, \"localesMostrar\", \"lineasMostrar\", \"permisoCostoUnitario\", \"fechaInicio\", \"fechaFin\", \"codigosVisualizar\", \"lineasVisualizar\", \"codigosEscogidos\", \"lineasDisponibles\", 4, \"ngIf\"], [3, \"value\", \"click\"], [3, \"value\"], [3, \"localesMostrar\", \"lineasMostrar\", \"permisoCostoUnitario\", \"fechaInicio\", \"fechaFin\", \"codigosVisualizar\", \"lineasVisualizar\", \"codigosEscogidos\", \"lineasDisponibles\"]],\n  template: function SaldoInventarioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"mat-card\", 2)(3, \"mat-card-header\", 3)(4, \"mat-card-title\", 4)(5, \"mat-icon\", 5);\n      i0.ɵɵtext(6, \"search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"span\");\n      i0.ɵɵtext(8, \"Filtros de B\\u00FAsqueda\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(9, \"mat-card-content\", 6)(10, \"form\")(11, \"div\", 0)(12, \"div\", 7)(13, \"div\", 0)(14, \"div\", 8)(15, \"mat-card-title\");\n      i0.ɵɵtext(16, \"Nivel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"mat-selection-list\", 9, 10)(19, \"mat-list-option\", 11);\n      i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_Template_mat_list_option_click_19_listener() {\n        return ctx.handleNivelSeleccionado();\n      });\n      i0.ɵɵtext(20, \"Nacional\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"mat-list-option\", 11);\n      i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_Template_mat_list_option_click_21_listener() {\n        return ctx.handleNivelSeleccionado();\n      });\n      i0.ɵɵtext(22, \"Zona\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"mat-list-option\", 11);\n      i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_Template_mat_list_option_click_23_listener() {\n        return ctx.handleNivelSeleccionado();\n      });\n      i0.ɵɵtext(24, \"Local\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"div\", 8)(26, \"mat-card-title\");\n      i0.ɵɵtext(27, \" Zonas \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"mat-card\", 12)(29, \"mat-selection-list\", 13, 14);\n      i0.ɵɵtemplate(31, SaldoInventarioComponent_mat_list_option_31_Template, 2, 2, \"mat-list-option\", 15);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(32, \"div\", 8)(33, \"mat-card-title\");\n      i0.ɵɵtext(34, \"Presentaci\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"mat-selection-list\", 9, 16);\n      i0.ɵɵtemplate(37, SaldoInventarioComponent_mat_list_option_37_Template, 2, 2, \"mat-list-option\", 17);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 18)(39, \"mat-selection-list\", 19, 20);\n      i0.ɵɵtemplate(41, SaldoInventarioComponent_mat_list_option_41_Template, 2, 2, \"mat-list-option\", 15);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(42, \"div\", 1)(43, \"div\", 21)(44, \"app-codigo-articulo\", 22);\n      i0.ɵɵlistener(\"codigosEscogidos\", function SaldoInventarioComponent_Template_app_codigo_articulo_codigosEscogidos_44_listener($event) {\n        return ctx.handleCodigosElegidos($event);\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(45, \"div\", 23)(46, \"div\", 0)(47, \"div\", 24)(48, \"app-lista-lineas\", 25);\n      i0.ɵɵlistener(\"lineasSeleccionadas\", function SaldoInventarioComponent_Template_app_lista_lineas_lineasSeleccionadas_48_listener($event) {\n        return ctx.handleLineasSeleccionadas($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(49, \"div\", 24)(50, \"app-lista-locales\", 26, 27);\n      i0.ɵɵlistener(\"localesSeleccionados\", function SaldoInventarioComponent_Template_app_lista_locales_localesSeleccionados_50_listener($event) {\n        return ctx.handleLocalesSeleccionados($event);\n      });\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(52, \"div\", 0)(53, \"div\", 28)(54, \"div\", 29)(55, \"button\", 30);\n      i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_Template_button_click_55_listener() {\n        return ctx.imprimirTabla();\n      });\n      i0.ɵɵtext(56, \" Buscar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"button\", 31);\n      i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_Template_button_click_57_listener() {\n        return ctx.limpiar();\n      });\n      i0.ɵɵtext(58, \" Limpiar \");\n      i0.ɵɵelementEnd()()()()()()()()();\n      i0.ɵɵelementStart(59, \"div\", 0)(60, \"div\", 1);\n      i0.ɵɵtemplate(61, SaldoInventarioComponent_app_tablas_61_Template, 1, 9, \"app-tablas\", 32);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"multiple\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.typesOfNivel[0])(\"disabled\", !ctx.opcionesNivel[0]);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.typesOfNivel[1])(\"disabled\", !ctx.opcionesNivel[1]);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.typesOfNivel[2])(\"disabled\", !ctx.opcionesNivel[2] || !ctx.opcionesNivel[3]);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"disabled\", !ctx.zonaSelected)(\"multiple\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.zona);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"multiple\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.presentacion);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"multiple\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.lineArticulo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.mostrarFiltroCodigo)(\"lineasDisponibles\", ctx.lineasDisponibles);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"lineasDisponibles\", ctx.lineasDisponibles)(\"disabled\", !ctx.mostrarListaLineas);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"localesDisponibles\", ctx.localesDisponibles)(\"NivelLocal\", ctx.NivelLocal);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngIf\", ctx.buscarClicked);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.MatCard, i4.MatCardContent, i4.MatCardHeader, i4.MatCardTitle, i5.MatSelectionList, i5.MatListOption, i6.MatButton, i7.MatIcon, i8.ɵNgNoValidate, i8.NgControlStatusGroup, i8.NgForm, i9.TablasComponent, i10.ListaLocalesComponent, i11.ListaLineasComponent, i12.CodigoArticuloComponent],\n  styles: [\".icon-title[_ngcontent-%COMP%] {\\n  background-color: #faac36;\\n  color: white;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.icon[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\n.buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n  padding: 10px 30px 0 30px;\\n}\\n\\n.radio-horizontal[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n\\n.style-buscar[_ngcontent-%COMP%] {\\n  padding-left: 40%;\\n  padding-right: 40%;\\n}\\n\\n.codigo-articulo[_ngcontent-%COMP%] {\\n  padding: 20px 0px 10px;\\n  position: relative;\\n}\\n\\n.style2[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc2FsZG8taW52ZW50YXJpby9zYWxkby1pbnZlbnRhcmlvLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vLi4vLi4vQ0FFTE9TJTIwSlIlMjAyMDE4L0RvY3VtZW50cy9Qcm95ZWN0byUyMFN0b2NrVGFraW5nL1N0b2NrdGFraW5nLUcyL0NsaWVudGUvc3JjL2FwcC9wYWdlcy9zYWxkby1pbnZlbnRhcmlvL3NhbGRvLWludmVudGFyaW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUVBLFNBQUE7RUFDQSx5QkFBQTtBQ0FKOztBREdBO0VBQ0ksYUFBQTtBQ0FKOztBREdBO0VBQ0csaUJBQUE7RUFDQSxrQkFBQTtBQ0FIOztBREdBO0VBQ0ksc0JBQUE7RUFDQSxrQkFBQTtBQ0FKOztBREdBO0VBQ0ksYUFBQTtFQUNBLHVCQUFBO0FDQUoiLCJzb3VyY2VzQ29udGVudCI6WyIuaWNvbi10aXRsZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFhYzM2O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcblxyXG4udGl0bGUge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG5cclxuLmljb24ge1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcblxyXG4uYnV0dG9ucyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIC8vanVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBnYXA6IDEwcHg7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDMwcHggMCAzMHB4OyAgIFxyXG59XHJcblxyXG4ucmFkaW8taG9yaXpvbnRhbCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG59XHJcblxyXG4uc3R5bGUtYnVzY2FyIHtcclxuICAgcGFkZGluZy1sZWZ0OiA0MCU7XHJcbiAgIHBhZGRpbmctcmlnaHQ6IDQwJTtcclxufVxyXG5cclxuLmNvZGlnby1hcnRpY3VsbyB7XHJcbiAgICBwYWRkaW5nOiAyMHB4IDBweCAxMHB4O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4uc3R5bGUyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4iLCIuaWNvbi10aXRsZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWFjMzY7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnRpdGxlIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4uaWNvbiB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLmJ1dHRvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDEwcHg7XG4gIHBhZGRpbmc6IDEwcHggMzBweCAwIDMwcHg7XG59XG5cbi5yYWRpby1ob3Jpem9udGFsIHtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLnN0eWxlLWJ1c2NhciB7XG4gIHBhZGRpbmctbGVmdDogNDAlO1xuICBwYWRkaW5nLXJpZ2h0OiA0MCU7XG59XG5cbi5jb2RpZ28tYXJ0aWN1bG8ge1xuICBwYWRkaW5nOiAyMHB4IDBweCAxMHB4O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5zdHlsZTIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","SaldoInventarioComponent","constructor","permisos","LocalIdService","Date","ngOnInit","listaPermisos","getPermisosSafe","codigoServicio","opcionesNivel","permisosNivel","permisoCostoUnitario","lineasDisponibles","localesDisponibles","acceso","localId","getLocalId","handleLocalesSeleccionados","locales","localesSeleccionados","handleLineasSeleccionadas","lineas","lineasSeleccionadas","handleFechaInicio","Incio","fechaInicio","handleFechaFin","Fin","fechaFin","handleNivelSeleccionado","nivelList","selectedOptions","selected","length","value","typesOfNivel","zonaSelected","NivelLocal","console","log","handleCodigosElegidos","codigos","codigosElegidos","onZonaSeleccionada","zon","zonaList","zona","filtraArticulos","lineArticulo","lineArt","mostrarListaLineas","mostrarFiltroCodigo","buscarLocales","limpiar","window","location","href","imprimirTabla","buscarClicked","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\CAELOS JR 2018\\Documents\\Proyecto StockTaking\\Stocktaking-G2\\Cliente\\src\\app\\pages\\saldo-inventario\\saldo-inventario.component.html","C:\\Users\\CAELOS JR 2018\\Documents\\Proyecto StockTaking\\Stocktaking-G2\\Cliente\\src\\app\\pages\\saldo-inventario\\saldo-inventario.component.ts"],"sourcesContent":["<div class=\"row\">\r\n  <div class=\"col-sm-12\">\r\n    <mat-card class=\"cardWithShadow theme-card\">\r\n      <mat-card-header class=\"icon-title\">\r\n        <mat-card-title class=\"m-b-0 title\">\r\n          <mat-icon class=\"icon\">search</mat-icon><span>Filtros de Búsqueda</span>\r\n        </mat-card-title>\r\n      </mat-card-header>\r\n\r\n      <mat-card-content class=\"b-t-1\">\r\n        <form>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-7\">\r\n              <div class=\"row\">\r\n\r\n                <div class=\"col-sm-4\">\r\n                  <mat-card-title>Nivel</mat-card-title>\r\n                  <mat-selection-list #nivel [multiple]=\"false\">\r\n                    <mat-list-option [value]=\"typesOfNivel[0]\" [disabled]=\"!opcionesNivel[0]\"\r\n                      (click)=\"handleNivelSeleccionado()\">Nacional</mat-list-option>\r\n                    <mat-list-option [value]=\"typesOfNivel[1]\" [disabled]=\"!opcionesNivel[1]\"\r\n                      (click)=\"handleNivelSeleccionado()\">Zona</mat-list-option>\r\n                    <mat-list-option [value]=\"typesOfNivel[2]\" [disabled]=\"!opcionesNivel[2] || !opcionesNivel[3]\"\r\n                      (click)=\"handleNivelSeleccionado()\">Local</mat-list-option>\r\n                  </mat-selection-list>\r\n                </div>\r\n\r\n                <div class=\"col-sm-4\">\r\n                  <mat-card-title> Zonas </mat-card-title>\r\n                  <mat-card class=\"b-1 shadow-none\">        \r\n                      <mat-selection-list #zon [disabled]=\"!zonaSelected\" [multiple]=\"false\">\r\n                        <mat-list-option *ngFor=\"let zon of zona\" [value]=\"zon\" (click)=\"onZonaSeleccionada(zon)\">\r\n                          {{ zon }}\r\n                        </mat-list-option>\r\n                      </mat-selection-list>\r\n                  </mat-card>\r\n                </div>\r\n\r\n                <div class=\"col-sm-4\">\r\n                  <mat-card-title>Presentación</mat-card-title>\r\n                  <mat-selection-list #present [multiple]=\"false\">\r\n                    <mat-list-option *ngFor=\"let pr of presentacion\" [value]=\"presentacion\">\r\n                      {{ pr }}\r\n                    </mat-list-option>\r\n                  </mat-selection-list>\r\n                </div>\r\n\r\n                <div class=\"col-sm-12 style2\">\r\n                  <mat-selection-list #lineArt [multiple]=\"false\" class=\"radio-horizontal\">\r\n                    <mat-list-option *ngFor=\"let linArt of lineArticulo\" [value]=\"linArt\"\r\n                      (click)=\"filtraArticulos(linArt)\">\r\n                      {{ linArt }}\r\n                    </mat-list-option>\r\n                  </mat-selection-list>\r\n                </div>\r\n\r\n                <div class=\"col-sm-12\">\r\n                  <div class=\"codigo-articulo\">\r\n                      <app-codigo-articulo [disabled]=\"!mostrarFiltroCodigo\" (codigosEscogidos)=\"handleCodigosElegidos($event)\"\r\n                [lineasDisponibles]=\"lineasDisponibles\"></app-codigo-articulo>\r\n                  </div>\r\n                  \r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"col-md-5\">\r\n              <div class=\"row\">\r\n\r\n                <div class=\"col-sm-6\">\r\n                  <app-lista-lineas (lineasSeleccionadas)=\"handleLineasSeleccionadas($event)\"\r\n                    [lineasDisponibles]=\"lineasDisponibles\" [disabled]=\"!mostrarListaLineas\">\r\n                  </app-lista-lineas>\r\n                </div>\r\n\r\n                <div class=\"col-sm-6\">\r\n                  <app-lista-locales #localesElegidos (localesSeleccionados)=\"handleLocalesSeleccionados($event)\"\r\n                    [localesDisponibles]=\"localesDisponibles\" [NivelLocal]=\"NivelLocal\">\r\n                  </app-lista-locales>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-12 style-buscar\">\r\n              <div class=\"buttons\">\r\n                <button mat-flat-button color=\"warn\" class=\"m-t-8\" (click)=\"imprimirTabla()\">\r\n                  Buscar\r\n                </button>\r\n                <button mat-flat-button color=\"accent\" class=\"m-t-8\" (click)=\"limpiar()\">\r\n                  Limpiar\r\n                </button>\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </form>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-sm-12\">\r\n    <app-tablas *ngIf=\"buscarClicked\" [localesMostrar]=\"localesSeleccionados\" [lineasMostrar]=\"lineasSeleccionadas\"\r\n    [permisoCostoUnitario]=\"permisoCostoUnitario\" [fechaInicio]=\"fechaInicio\" [fechaFin]=\"fechaFin\" [codigosVisualizar]=\"mostrarFiltroCodigo\" [lineasVisualizar]=\"mostrarListaLineas\"\r\n    [codigosEscogidos]=\"codigosElegidos\" [lineasDisponibles]=\"lineasDisponibles\">\r\n    </app-tablas>\r\n  </div>\r\n</div>","import { Component, NgModule, ViewChild } from '@angular/core';\r\nimport { MatSelectionList } from '@angular/material/list';\r\nimport { TablasComponent } from '../ui-components/tablas/tablas.component';\r\nimport { Permiso } from 'src/app/interfaces/permiso';\r\nimport { ObtenerPermisosService } from 'src/app/services/obtener-permisos.service'\r\nimport { LocalIdService } from 'src/app/services/resources/local.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-saldo-inventario',\r\n  templateUrl: './saldo-inventario.component.html',\r\n  styleUrls: ['./saldo-inventario.component.scss']\r\n})\r\nexport class SaldoInventarioComponent {\r\n\r\n  @ViewChild('nivel') nivelList: MatSelectionList;\r\n  @ViewChild('zon') zonaList: MatSelectionList;\r\n  @ViewChild('lineArt') lineArt: MatSelectionList;\r\n  \r\n  protected buscarClicked: boolean = false;\r\n  fechaInicio: Date = new Date(1900, 1, 1);\r\n  fechaFin: Date = new Date(2200, 31, 12);\r\n  localesSeleccionados: any[] = [];\r\n  zonaSelected: boolean = false;\r\n  lineasSeleccionadas: any[] = [];\r\n  opcionesNivel: boolean[] = []\r\n  NivelLocal: String = \"\";\r\n  listaPermisos: Permiso[] = [];\r\n  codigosElegidos: number[] = []\r\n  lineasDisponibles: String = \"\";\r\n  localesDisponibles: number[] = [];\r\n  codigoServicio: String = \"080509\";\r\n  permisoCostoUnitario: boolean;\r\n  localId: string | null;\r\n  mostrarListaLineas:boolean = false;\r\n  mostrarFiltroCodigo:boolean = false;\r\n\r\n  constructor(private permisos: ObtenerPermisosService, private LocalIdService: LocalIdService) { }\r\n\r\n  typesOfNivel: string[] = ['Nacional', 'Zona', 'Local'];\r\n  presentacion: string[] = ['Saldos Consolidados', 'Saldos por Local'];\r\n  lineArticulo: string[] = ['Por Código de Artículo', 'Por Línea de Artículo'];\r\n  zona: string[] = ['Nacional', 'Zona Centro-Norte', 'Zona Sur'];\r\n  acceso: boolean = false\r\n\r\n  async ngOnInit() {\r\n    this.listaPermisos = await this.permisos.getPermisosSafe(this.codigoServicio);\r\n    this.opcionesNivel = await this.permisos.permisosNivel(this.codigoServicio);\r\n    this.permisoCostoUnitario = await this.permisos.permisoCostoUnitario(this.codigoServicio);\r\n    this.lineasDisponibles = await this.permisos.lineasDisponibles(this.codigoServicio);\r\n    this.localesDisponibles = await this.permisos.localesDisponibles(this.codigoServicio);\r\n    this.acceso = true;\r\n    this.localId = this.LocalIdService.getLocalId();\r\n  }\r\n\r\n\r\n  handleLocalesSeleccionados(locales: any[]) {\r\n    this.localesSeleccionados = locales;\r\n  }\r\n\r\n  handleLineasSeleccionadas(lineas: any[]) {\r\n    this.lineasSeleccionadas = lineas;\r\n  }\r\n\r\n  handleFechaInicio(Incio: Date) {\r\n    this.fechaInicio = Incio;\r\n  }\r\n\r\n  handleFechaFin(Fin: Date) {\r\n    this.fechaFin = Fin;\r\n  }\r\n\r\n  handleNivelSeleccionado() {\r\n    // Verificamos si \"Nacional\" está seleccionado\r\n    if (this.nivelList.selectedOptions.selected.length > 0) {\r\n      if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[0]) {\r\n        this.zonaSelected = false;\r\n        this.NivelLocal = \"Nacional\";\r\n        console.log(\"Seleccione nacional\");\r\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[1]) {\r\n        this.zonaSelected = true;\r\n        console.log(\"Seleccione Zona\");\r\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[2]) {\r\n        this.zonaSelected = false;\r\n        this.NivelLocal = \"Local\";\r\n        console.log(\"Seleccione Local\");\r\n      }\r\n    }\r\n  }\r\n\r\n  handleCodigosElegidos(codigos: number[]) {\r\n    this.codigosElegidos = codigos;\r\n    console.log(this.codigosElegidos);\r\n  }\r\n\r\n  onZonaSeleccionada(zon: string) {\r\n    if (this.zonaList.selectedOptions.selected.length > 0) {\r\n      if (zon === \"Nacional\") {\r\n        this.NivelLocal = \"Nacional\";\r\n        console.log(\"Seleccione nacional\");\r\n      } else if (zon === this.zona[1]) {\r\n        this.NivelLocal = \"Zona 1\";\r\n        console.log(\"Seleccione Centro-Norte\");\r\n      } else if (zon === this.zona[2]) {\r\n        this.NivelLocal = \"Zona 2\";\r\n        console.log(\"Seleccione Sur\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  filtraArticulos(lineArticulo: string) {\r\n    console.log(\"Filtro \");\r\n    if (this.lineArt.selectedOptions.selected.length > 0) {\r\n      console.log(\"Evento Filtro \");\r\n      if (lineArticulo === this.lineArticulo[0]) {\r\n        this.mostrarListaLineas = false;\r\n        this.mostrarFiltroCodigo = true;\r\n        console.log(\"Filtro codigo\");\r\n      } else if (lineArticulo === this.lineArticulo[1]) {\r\n        this.mostrarListaLineas = true;\r\n        this.mostrarFiltroCodigo = false;\r\n        console.log(\"Lista lineas\");\r\n      }\r\n    }\r\n  }\r\n\r\n  buscarLocales() {\r\n    //this.buscarClicked = true;\r\n  }\r\n\r\n  limpiar(){\r\n    window.location.href=\"/saldo-inventario\";\r\n  }\r\n\r\n  //borrar despues solo para pruebas\r\n\r\n  imprimirTabla() {\r\n    this.buscarClicked = true;\r\n    console.log(\"hola again\");\r\n    console.log(this.localesSeleccionados);\r\n    console.log(this.lineasSeleccionadas);\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}