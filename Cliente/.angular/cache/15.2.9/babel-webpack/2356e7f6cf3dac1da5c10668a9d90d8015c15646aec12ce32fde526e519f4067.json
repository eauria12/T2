{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/CAELOS JR 2018/Documents/Proyecto StockTaking/Stocktaking-G2/Cliente/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/obtener-permisos.service\";\nimport * as i2 from \"src/app/services/resources/local.service\";\nimport * as i3 from \"src/app/services/obtener-local-info.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/list\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"../ui-components/lists/lista-locales/lista-locales.component\";\nimport * as i11 from \"../ui-components/filtro-fecha/filtro-fecha.component\";\nimport * as i12 from \"../ui-components/codigo-articulo/codigo-articulo.component\";\nimport * as i13 from \"../ui-components/tabla-kardex/tabla-kardex.component\";\nconst _c0 = [\"nivel\"];\nconst _c1 = [\"zon\"];\nconst _c2 = [\"present\"];\nconst _c3 = [\"lineArt\"];\nfunction KardexMercaderiaComponent_mat_card_content_9_mat_list_option_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list-option\", 13);\n    i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_mat_card_content_9_mat_list_option_22_Template_mat_list_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const zon_r10 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.onZonaSeleccionada(zon_r10));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const zon_r10 = ctx.$implicit;\n    const i_r11 = ctx.index;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", zon_r10)(\"disabled\", ctx_r5.zonasPermitidas[i_r11]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", zon_r10, \" \");\n  }\n}\nfunction KardexMercaderiaComponent_mat_card_content_9_mat_list_option_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list-option\", 31);\n    i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_mat_card_content_9_mat_list_option_28_Template_mat_list_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const pr_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.onPresentacionSeleccionada(pr_r14));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pr_r14 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", ctx_r7.presentacion);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", pr_r14, \" \");\n  }\n}\nfunction KardexMercaderiaComponent_mat_card_content_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card-content\", 8)(1, \"form\")(2, \"div\", 0)(3, \"div\", 9)(4, \"div\", 0)(5, \"div\", 10)(6, \"mat-card-title\");\n    i0.ɵɵtext(7, \"Nivel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"mat-selection-list\", 11, 12)(10, \"mat-list-option\", 13);\n    i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_mat_card_content_9_Template_mat_list_option_click_10_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.handleNivelSeleccionado());\n    });\n    i0.ɵɵtext(11, \"Nacional\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"mat-list-option\", 13);\n    i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_mat_card_content_9_Template_mat_list_option_click_12_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.handleNivelSeleccionado());\n    });\n    i0.ɵɵtext(13, \"Zona\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"mat-list-option\", 13);\n    i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_mat_card_content_9_Template_mat_list_option_click_14_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.handleNivelSeleccionado());\n    });\n    i0.ɵɵtext(15, \"Local\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 14)(17, \"mat-card-title\");\n    i0.ɵɵtext(18, \" Zonas \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"mat-card\", 15)(20, \"mat-selection-list\", 16, 17);\n    i0.ɵɵtemplate(22, KardexMercaderiaComponent_mat_card_content_9_mat_list_option_22_Template, 2, 3, \"mat-list-option\", 18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 19)(24, \"mat-card-title\");\n    i0.ɵɵtext(25, \"Presentaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"mat-selection-list\", 11, 20);\n    i0.ɵɵtemplate(28, KardexMercaderiaComponent_mat_card_content_9_mat_list_option_28_Template, 2, 2, \"mat-list-option\", 21);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 1)(30, \"app-codigo-articulo\", 22);\n    i0.ɵɵlistener(\"codigosEscogidos\", function KardexMercaderiaComponent_mat_card_content_9_Template_app_codigo_articulo_codigosEscogidos_30_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.handleCodigosElegidos($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 1)(32, \"div\")(33, \"app-filtro-fecha\", 23, 24);\n    i0.ɵɵlistener(\"datedesdeChange\", function KardexMercaderiaComponent_mat_card_content_9_Template_app_filtro_fecha_datedesdeChange_33_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.handleFechaInicio($event));\n    })(\"datehastaChange\", function KardexMercaderiaComponent_mat_card_content_9_Template_app_filtro_fecha_datehastaChange_33_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.handleFechaFin($event));\n    });\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(35, \"div\", 25)(36, \"div\", 0)(37, \"div\", 1)(38, \"app-lista-locales\", 26, 27);\n    i0.ɵɵlistener(\"localesSeleccionados\", function KardexMercaderiaComponent_mat_card_content_9_Template_app_lista_locales_localesSeleccionados_38_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.handleLocalesSeleccionados($event));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(40, \"div\", 1)(41, \"div\", 28)(42, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_mat_card_content_9_Template_button_click_42_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.imprimirTabla());\n    });\n    i0.ɵɵtext(43, \" Buscar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(44, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function KardexMercaderiaComponent_mat_card_content_9_Template_button_click_44_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.limpiar());\n    });\n    i0.ɵɵtext(45, \" Limpiar \");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"multiple\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r0.typesOfNivel[0])(\"disabled\", !ctx_r0.opcionesNivel[0]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r0.typesOfNivel[1])(\"disabled\", !(ctx_r0.opcionesNivel[2] || ctx_r0.opcionesNivel[3]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r0.typesOfNivel[2])(\"disabled\", !ctx_r0.opcionesNivel[1]);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.zonaSelected)(\"multiple\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.zona);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"multiple\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.presentacion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.mostrarFiltroCodigo)(\"lineasDisponibles\", ctx_r0.lineasDisponibles);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"localesDisponibles\", ctx_r0.localesDisponibles)(\"NivelLocal\", ctx_r0.NivelLocal);\n  }\n}\nfunction KardexMercaderiaComponent_mat_card_content_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-content\", 8);\n    i0.ɵɵtext(1, \" No tienes Acceso \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction KardexMercaderiaComponent_app_tabla_kardex_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-tabla-kardex\", 32);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"localesMostrar\", ctx_r2.localesSeleccionados)(\"fechaInicio\", ctx_r2.fechaInicio)(\"fechaFin\", ctx_r2.fechaFin)(\"codigosEscogidos\", ctx_r2.codigosElegidos)(\"seleccionNivel\", ctx_r2.seleccionNivel)(\"stock\", ctx_r2.stock)(\"localSeleccion\", ctx_r2.localSeleccion);\n  }\n}\nexport class KardexMercaderiaComponent {\n  constructor(permisos, LocalIdService, obtenerLocal) {\n    this.permisos = permisos;\n    this.LocalIdService = LocalIdService;\n    this.obtenerLocal = obtenerLocal;\n    this.autorizado = false;\n    this.buscarClicked = false;\n    this.fechaInicio = new Date(1900, 1, 1);\n    this.fechaFin = new Date(2200, 31, 12);\n    this.localesSeleccionados = [];\n    this.zonaSelected = false;\n    this.lineasSeleccionadas = [];\n    this.opcionesNivel = [];\n    this.NivelLocal = \"\";\n    this.listaPermisos = [];\n    this.codigosElegidos = [];\n    this.lineasDisponibles = \"\";\n    this.localesDisponibles = [];\n    this.codigoServicio = \"080507\";\n    this.mostrarFiltroCodigo = true;\n    this.stock = \"S\";\n    this.seleccionNivel = \"L\";\n    this.typesOfNivel = ['Nacional', 'Zona', 'Local'];\n    this.presentacion = ['Movimientos por Local', 'Movimientos en Locales'];\n    this.zona = ['Nacional', 'Zona Centro-Norte', 'Zona Sur'];\n    this.zonasPermitidas = [true, true, true];\n    this.acceso = false;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.listaPermisos = yield _this.permisos.getPermisosSafe(_this.codigoServicio).catch(error => {\n        _this.autorizado = true;\n      });\n      console.log(_this.listaPermisos);\n      console.log(_this.autorizado);\n      if (_this.autorizado || _this.listaPermisos.length == 0) {\n        _this.showAlert(\"USUARIO NO AUTORIZADO\");\n        _this.autorizado = true;\n      } else {\n        _this.localesDisponibles = yield _this.permisos.localesDisponibles(_this.codigoServicio);\n        _this.opcionesNivel = yield _this.permisos.permisosNivel(_this.codigoServicio);\n        _this.permisoCostoUnitario = yield _this.permisos.permisoCostoUnitario(_this.codigoServicio);\n        _this.lineasDisponibles = yield _this.permisos.lineasDisponibles(_this.codigoServicio);\n        _this.acceso = true;\n        _this.localId = _this.LocalIdService.getLocalId();\n        _this.zonaId = yield _this.obtenerLocal.getLocalZona(_this.localId);\n      }\n    })();\n  }\n  handleLocalesSeleccionados(locales) {\n    this.localesSeleccionados = locales;\n  }\n  handleFechaInicio(Incio) {\n    this.fechaInicio = Incio;\n  }\n  handleFechaFin(Fin) {\n    this.fechaFin = Fin;\n  }\n  handleNivelSeleccionado() {\n    if (this.nivelList.selectedOptions.selected.length > 0) {\n      if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[0]) {\n        this.setInformacionNivel(false, \"Nacional\", \"N\");\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[1]) {\n        this.setInformacionNivel(true, \"\", \"Z\");\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[2]) {\n        this.setInformacionNivel(false, \"Local\", \"L\");\n      }\n    }\n  }\n  setInformacionNivel(zonaSeleccionada, niveldelLocal, seleccionDeNivel) {\n    this.zonaSelected = zonaSeleccionada;\n    this.NivelLocal = niveldelLocal;\n    this.seleccionNivel = seleccionDeNivel;\n    if (this.seleccionNivel === \"Z\") {\n      if (this.opcionesNivel[2]) {\n        this.zonasPermitidas[this.zonaId] = false;\n      } else {\n        this.zonasPermitidas = [false, false, false];\n      }\n    }\n  }\n  handleCodigosElegidos(codigos) {\n    this.codigosElegidos = codigos;\n  }\n  onZonaSeleccionada(zon) {\n    if (this.zonaList.selectedOptions.selected.length > 0) {\n      if (zon === \"Nacional\") {\n        this.NivelLocal = \"Nacional\";\n      } else if (zon === this.zona[1]) {\n        this.NivelLocal = \"Zona 1\";\n      } else if (zon === this.zona[2]) {\n        this.NivelLocal = \"Zona 2\";\n      }\n    }\n  }\n  onPresentacionSeleccionada(pr) {\n    if (this.presentacionList.selectedOptions.selected.length > 0) {\n      if (pr === this.presentacion[0]) {\n        this.localSeleccion = true;\n      } else if (pr === this.presentacion[1]) {\n        this.localSeleccion = false;\n      }\n    }\n  }\n  limpiar() {\n    window.location.href = \"/saldo-inventario\";\n  }\n  showAlert(label) {\n    Swal.fire({\n      title: label,\n      icon: 'warning',\n      timer: 1500\n    });\n  }\n  imprimirTabla() {\n    Swal.fire({\n      title: 'Cargando',\n      icon: 'info',\n      timer: 3000,\n      showConfirmButton: false\n    });\n    this.buscarClicked = true;\n  }\n}\nKardexMercaderiaComponent.ɵfac = function KardexMercaderiaComponent_Factory(t) {\n  return new (t || KardexMercaderiaComponent)(i0.ɵɵdirectiveInject(i1.ObtenerPermisosService), i0.ɵɵdirectiveInject(i2.LocalIdService), i0.ɵɵdirectiveInject(i3.ObtenerLocalInfoService));\n};\nKardexMercaderiaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: KardexMercaderiaComponent,\n  selectors: [[\"app-kardex-mercaderia\"]],\n  viewQuery: function KardexMercaderiaComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(_c2, 5);\n      i0.ɵɵviewQuery(_c3, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.nivelList = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zonaList = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.presentacionList = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.lineArt = _t.first);\n    }\n  },\n  decls: 14,\n  vars: 3,\n  consts: [[1, \"row\"], [1, \"col-sm-12\"], [1, \"cardWithShadow\", \"theme-card\"], [1, \"icon-title\"], [1, \"m-b-0\", \"title\"], [1, \"icon\"], [\"class\", \"b-t-1\", 4, \"ngIf\"], [3, \"localesMostrar\", \"fechaInicio\", \"fechaFin\", \"codigosEscogidos\", \"seleccionNivel\", \"stock\", \"localSeleccion\", 4, \"ngIf\"], [1, \"b-t-1\"], [1, \"col-md-9\"], [1, \"col-sm-3\"], [3, \"multiple\"], [\"nivel\", \"\"], [3, \"value\", \"disabled\", \"click\"], [1, \"col-sm-4\"], [1, \"b-1\", \"shadow-none\"], [3, \"disabled\", \"multiple\"], [\"zon\", \"\"], [3, \"value\", \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-sm-5\"], [\"present\", \"\"], [3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"disabled\", \"lineasDisponibles\", \"codigosEscogidos\"], [3, \"datedesdeChange\", \"datehastaChange\"], [\"fechasElegidas\", \"\"], [1, \"col-md-3\"], [3, \"localesDisponibles\", \"NivelLocal\", \"localesSeleccionados\"], [\"localesElegidos\", \"\"], [1, \"buttons\"], [\"mat-flat-button\", \"\", \"color\", \"warn\", 1, \"m-t-8\", 3, \"click\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", 1, \"m-t-8\", 3, \"click\"], [3, \"value\", \"click\"], [3, \"localesMostrar\", \"fechaInicio\", \"fechaFin\", \"codigosEscogidos\", \"seleccionNivel\", \"stock\", \"localSeleccion\"]],\n  template: function KardexMercaderiaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"mat-card\", 2)(3, \"mat-card-header\", 3)(4, \"mat-card-title\", 4)(5, \"mat-icon\", 5);\n      i0.ɵɵtext(6, \"search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"span\");\n      i0.ɵɵtext(8, \"Filtros de B\\u00FAsqueda\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(9, KardexMercaderiaComponent_mat_card_content_9_Template, 46, 16, \"mat-card-content\", 6);\n      i0.ɵɵtemplate(10, KardexMercaderiaComponent_mat_card_content_10_Template, 2, 0, \"mat-card-content\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 0)(12, \"div\", 1);\n      i0.ɵɵtemplate(13, KardexMercaderiaComponent_app_tabla_kardex_13_Template, 1, 7, \"app-tabla-kardex\", 7);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.autorizado === false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.autorizado === true);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.buscarClicked);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.MatCard, i5.MatCardContent, i5.MatCardHeader, i5.MatCardTitle, i6.MatSelectionList, i6.MatListOption, i7.MatButton, i8.MatIcon, i9.ɵNgNoValidate, i9.NgControlStatusGroup, i9.NgForm, i10.ListaLocalesComponent, i11.FiltroFechaComponent, i12.CodigoArticuloComponent, i13.TablaKardexComponent],\n  styles: [\".icon-title[_ngcontent-%COMP%] {\\n  background-color: #faac36;\\n  color: white;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.icon[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\n.buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n  padding: 10px 30px 0 30px;\\n}\\n\\n.radio-horizontal[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n\\n.style-buscar[_ngcontent-%COMP%] {\\n  padding-left: 40%;\\n  padding-right: 40%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMva2FyZGV4LW1lcmNhZGVyaWEva2FyZGV4LW1lcmNhZGVyaWEuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi8uLi8uLi8uLi9DQUVMT1MlMjBKUiUyMDIwMTgvRG9jdW1lbnRzL1Byb3llY3RvJTIwU3RvY2tUYWtpbmcvU3RvY2t0YWtpbmctRzIvQ2xpZW50ZS9zcmMvYXBwL3BhZ2VzL2thcmRleC1tZXJjYWRlcmlhL2thcmRleC1tZXJjYWRlcmlhLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kseUJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxhQUFBO0VBQ0EsOEJBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0FDQ0o7O0FERUE7RUFDSSxhQUFBO0VBQ0Esc0JBQUE7RUFFQSxTQUFBO0VBQ0EseUJBQUE7QUNBSjs7QURHQTtFQUNJLGFBQUE7QUNBSjs7QURHQTtFQUNHLGlCQUFBO0VBQ0Esa0JBQUE7QUNBSDs7QURHQTs7Ozs7Ozs7RUFBQSIsInNvdXJjZXNDb250ZW50IjpbIi5pY29uLXRpdGxlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWFjMzY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi50aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4uaWNvbiB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcbi5idXR0b25zIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgLy9qdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGdhcDogMTBweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMzBweCAwIDMwcHg7ICAgXHJcbn1cclxuXHJcbi5yYWRpby1ob3Jpem9udGFsIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcbi5zdHlsZS1idXNjYXIge1xyXG4gICBwYWRkaW5nLWxlZnQ6IDQwJTtcclxuICAgcGFkZGluZy1yaWdodDogNDAlO1xyXG59XHJcblxyXG4vKi5jb2RpZ28tYXJ0aWN1bG8ge1xyXG4gICAgcGFkZGluZzogMjBweCAwcHggMTBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLnN0eWxlMiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn0qL1xyXG4iLCIuaWNvbi10aXRsZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWFjMzY7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnRpdGxlIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4uaWNvbiB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLmJ1dHRvbnMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IDEwcHg7XG4gIHBhZGRpbmc6IDEwcHggMzBweCAwIDMwcHg7XG59XG5cbi5yYWRpby1ob3Jpem9udGFsIHtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLnN0eWxlLWJ1c2NhciB7XG4gIHBhZGRpbmctbGVmdDogNDAlO1xuICBwYWRkaW5nLXJpZ2h0OiA0MCU7XG59XG5cbi8qLmNvZGlnby1hcnRpY3VsbyB7XG4gICAgcGFkZGluZzogMjBweCAwcHggMTBweDtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5zdHlsZTIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59Ki8iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["Swal","i0","KardexMercaderiaComponent","constructor","permisos","LocalIdService","obtenerLocal","Date","ngOnInit","listaPermisos","getPermisosSafe","codigoServicio","catch","error","autorizado","console","log","length","showAlert","localesDisponibles","opcionesNivel","permisosNivel","permisoCostoUnitario","lineasDisponibles","acceso","localId","getLocalId","zonaId","getLocalZona","handleLocalesSeleccionados","locales","localesSeleccionados","handleFechaInicio","Incio","fechaInicio","handleFechaFin","Fin","fechaFin","handleNivelSeleccionado","nivelList","selectedOptions","selected","value","typesOfNivel","setInformacionNivel","zonaSeleccionada","niveldelLocal","seleccionDeNivel","zonaSelected","NivelLocal","seleccionNivel","zonasPermitidas","handleCodigosElegidos","codigos","codigosElegidos","onZonaSeleccionada","zon","zonaList","zona","onPresentacionSeleccionada","pr","presentacionList","presentacion","localSeleccion","limpiar","window","location","href","label","fire","title","icon","timer","imprimirTabla","showConfirmButton","buscarClicked","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\CAELOS JR 2018\\Documents\\Proyecto StockTaking\\Stocktaking-G2\\Cliente\\src\\app\\pages\\kardex-mercaderia\\kardex-mercaderia.component.ts","C:\\Users\\CAELOS JR 2018\\Documents\\Proyecto StockTaking\\Stocktaking-G2\\Cliente\\src\\app\\pages\\kardex-mercaderia\\kardex-mercaderia.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { MatSelectionList } from '@angular/material/list';\r\nimport { Permiso } from 'src/app/interfaces/permiso';\r\nimport { ObtenerPermisosService } from 'src/app/services/obtener-permisos.service'\r\nimport { LocalIdService } from 'src/app/services/resources/local.service';\r\nimport { ObtenerLocalInfoService } from 'src/app/services/obtener-local-info.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-kardex-mercaderia',\r\n  templateUrl: './kardex-mercaderia.component.html',\r\n  styleUrls: ['./kardex-mercaderia.component.scss']\r\n})\r\nexport class KardexMercaderiaComponent {\r\n  @ViewChild('nivel') nivelList: MatSelectionList;\r\n  @ViewChild('zon') zonaList: MatSelectionList;\r\n  @ViewChild('present') presentacionList: MatSelectionList;\r\n  @ViewChild('lineArt') lineArt: MatSelectionList;\r\n  \r\n  protected autorizado: boolean = false;\r\n  protected buscarClicked: boolean = false;\r\n  fechaInicio: Date = new Date(1900, 1, 1);\r\n  fechaFin: Date = new Date(2200, 31, 12);\r\n  localesSeleccionados: any[] = [];\r\n  zonaSelected: boolean = false;\r\n  lineasSeleccionadas: any[] = [];\r\n  opcionesNivel: boolean[] = []\r\n  NivelLocal: String = \"\";\r\n  listaPermisos: Permiso[] = [];\r\n  codigosElegidos: number[] = []\r\n  lineasDisponibles: String = \"\";\r\n  localesDisponibles: number[] = [];\r\n  codigoServicio: String = \"080507\";\r\n  permisoCostoUnitario: boolean;\r\n  localId: string | null;\r\n  zonaId :number ;\r\n  mostrarFiltroCodigo:boolean = true;\r\n  stock = \"S\"\r\n  seleccionNivel = \"L\"\r\n  localSeleccion: boolean;\r\n\r\n  constructor(private permisos: ObtenerPermisosService, private LocalIdService: LocalIdService, private obtenerLocal: ObtenerLocalInfoService) { }\r\n\r\n  typesOfNivel: string[] = ['Nacional', 'Zona', 'Local'];\r\n  presentacion: string[] = ['Movimientos por Local', 'Movimientos en Locales'];\r\n  zona: string[] = ['Nacional', 'Zona Centro-Norte', 'Zona Sur'];\r\n  zonasPermitidas: boolean[] = [true, true, true];\r\n  acceso: boolean = false;\r\n  \r\n\r\n  async ngOnInit() {\r\n    this.listaPermisos = await this.permisos.getPermisosSafe(this.codigoServicio).catch((error) => { this.autorizado = true });\r\n    console.log(this.listaPermisos);\r\n    console.log(this.autorizado);\r\n    if (this.autorizado || this.listaPermisos.length == 0) {\r\n      this.showAlert(\"USUARIO NO AUTORIZADO\");\r\n      this.autorizado = true;\r\n    } else {\r\n    this.localesDisponibles = await this.permisos.localesDisponibles(this.codigoServicio);\r\n    this.opcionesNivel = await this.permisos.permisosNivel(this.codigoServicio);\r\n    this.permisoCostoUnitario = await this.permisos.permisoCostoUnitario(this.codigoServicio);\r\n    this.lineasDisponibles = await this.permisos.lineasDisponibles(this.codigoServicio);\r\n    this.acceso = true;\r\n    this.localId = this.LocalIdService.getLocalId();\r\n    this.zonaId = await this.obtenerLocal.getLocalZona(this.localId);\r\n    }\r\n  }\r\n\r\n  handleLocalesSeleccionados(locales: any[]) {\r\n    this.localesSeleccionados = locales;\r\n  }\r\n\r\n  handleFechaInicio(Incio: Date) {\r\n    this.fechaInicio = Incio;\r\n  }\r\n\r\n  handleFechaFin(Fin: Date) {\r\n    this.fechaFin = Fin;\r\n  }\r\n\r\n  handleNivelSeleccionado() {\r\n    if (this.nivelList.selectedOptions.selected.length > 0) {\r\n      if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[0]) {\r\n        this.setInformacionNivel(false,\"Nacional\",\"N\")\r\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[1]) {\r\n        this.setInformacionNivel(true,\"\",\"Z\")\r\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[2]) {\r\n        this.setInformacionNivel(false,\"Local\",\"L\")\r\n      }\r\n    }\r\n  }\r\n\r\n  setInformacionNivel(zonaSeleccionada : boolean, niveldelLocal: string, seleccionDeNivel: string){\r\n    this.zonaSelected = zonaSeleccionada;\r\n    this.NivelLocal = niveldelLocal;\r\n    this.seleccionNivel = seleccionDeNivel;\r\n    if (this.seleccionNivel === \"Z\"){\r\n      if (this.opcionesNivel[2]) {\r\n        this.zonasPermitidas[this.zonaId]= false;\r\n      } else {\r\n        this.zonasPermitidas = [false, false, false];\r\n      }\r\n    }\r\n  }\r\n\r\n  handleCodigosElegidos(codigos: number[]) {\r\n    this.codigosElegidos = codigos;\r\n  }\r\n\r\n  onZonaSeleccionada(zon: string) {\r\n    if (this.zonaList.selectedOptions.selected.length > 0) {\r\n      if (zon === \"Nacional\") {\r\n        this.NivelLocal = \"Nacional\";\r\n      } else if (zon === this.zona[1]) {\r\n        this.NivelLocal = \"Zona 1\";\r\n      } else if (zon === this.zona[2]) {\r\n        this.NivelLocal = \"Zona 2\";\r\n      }\r\n    }\r\n  }\r\n\r\n  onPresentacionSeleccionada(pr: string) {\r\n    if (this.presentacionList.selectedOptions.selected.length > 0) {\r\n      if ( pr === this.presentacion[0]) {\r\n        this.localSeleccion = true;\r\n      } else if (pr === this.presentacion[1]) {\r\n        this.localSeleccion = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  limpiar(){\r\n    window.location.href=\"/saldo-inventario\";\r\n  }\r\n\r\n  showAlert(label: string) {\r\n    Swal.fire({\r\n      title: label,\r\n      icon: 'warning', \r\n      timer: 1500\r\n\r\n    });\r\n  }\r\n\r\n  imprimirTabla() {\r\n    Swal.fire({\r\n      title: 'Cargando',\r\n      icon: 'info',\r\n      timer: 3000,\r\n      showConfirmButton: false,\r\n\r\n    });\r\n    this.buscarClicked = true;\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-sm-12\">\r\n    <mat-card class=\"cardWithShadow theme-card\">\r\n      <mat-card-header class=\"icon-title\">\r\n        <mat-card-title class=\"m-b-0 title\">\r\n          <mat-icon class=\"icon\">search</mat-icon><span>Filtros de Búsqueda</span>\r\n        </mat-card-title>\r\n      </mat-card-header>\r\n\r\n      <mat-card-content class=\"b-t-1\" *ngIf=\"autorizado === false\">\r\n        <form>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-9\">\r\n              <div class=\"row\">\r\n\r\n                <div class=\"col-sm-3\">\r\n                  <mat-card-title>Nivel</mat-card-title>\r\n                  <mat-selection-list #nivel [multiple]=\"false\">\r\n                    <mat-list-option [value]=\"typesOfNivel[0]\" [disabled]=\"!opcionesNivel[0]\"\r\n                      (click)=\"handleNivelSeleccionado()\">Nacional</mat-list-option>\r\n                    <mat-list-option [value]=\"typesOfNivel[1]\" [disabled]=\"!(opcionesNivel[2] || opcionesNivel[3])\"\r\n                      (click)=\"handleNivelSeleccionado()\">Zona</mat-list-option>\r\n                    <mat-list-option [value]=\"typesOfNivel[2]\" [disabled]=\"!opcionesNivel[1]\"\r\n                      (click)=\"handleNivelSeleccionado()\">Local</mat-list-option>\r\n                  </mat-selection-list>\r\n                </div>\r\n\r\n                <div class=\"col-sm-4\">\r\n                  <mat-card-title> Zonas </mat-card-title>\r\n                  <mat-card class=\"b-1 shadow-none\">\r\n                    <mat-selection-list #zon [disabled]=\"!zonaSelected\" [multiple]=\"false\">\r\n                      <mat-list-option *ngFor=\"let zon of zona; let i = index\" [value]=\"zon\"\r\n                        [disabled]=\"zonasPermitidas[i]\" (click)=\"onZonaSeleccionada(zon)\">\r\n                        {{ zon }}\r\n                      </mat-list-option>\r\n                    </mat-selection-list>\r\n                  </mat-card>\r\n                </div>\r\n\r\n                <div class=\"col-sm-5\">\r\n                  <mat-card-title>Presentación</mat-card-title>\r\n                  <mat-selection-list #present [multiple]=\"false\">\r\n                    <mat-list-option *ngFor=\"let pr of presentacion\" [value]=\"presentacion\"\r\n                      (click)=\"onPresentacionSeleccionada(pr)\">\r\n                      {{ pr }}\r\n                    </mat-list-option>\r\n                  </mat-selection-list>\r\n                </div>\r\n\r\n                <div class=\"col-sm-12\">\r\n                  <app-codigo-articulo [disabled]=\"!mostrarFiltroCodigo\"\r\n                    (codigosEscogidos)=\"handleCodigosElegidos($event)\" [lineasDisponibles]=\"lineasDisponibles\">\r\n                  </app-codigo-articulo>\r\n                </div>\r\n\r\n                <div class=\"col-sm-12\">\r\n                  <div>\r\n                    <app-filtro-fecha #fechasElegidas (datedesdeChange)=\"handleFechaInicio($event)\"\r\n                      (datehastaChange)=\"handleFechaFin($event)\"></app-filtro-fecha>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"col-md-3\">\r\n              <div class=\"row\">\r\n\r\n                <div class=\"col-sm-12\">\r\n                  <app-lista-locales #localesElegidos (localesSeleccionados)=\"handleLocalesSeleccionados($event)\"\r\n                    [localesDisponibles]=\"localesDisponibles\" [NivelLocal]=\"NivelLocal\">\r\n                  </app-lista-locales>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"col-sm-12\">\r\n                <div class=\"buttons\">\r\n                  <button mat-flat-button color=\"warn\" class=\"m-t-8\" (click)=\"imprimirTabla()\">\r\n                    Buscar\r\n                  </button>\r\n                  <button mat-flat-button color=\"accent\" class=\"m-t-8\" (click)=\"limpiar()\">\r\n                    Limpiar\r\n                  </button>\r\n                </div>\r\n\r\n              </div>  \r\n\r\n            </div>\r\n\r\n          </div>\r\n        </form>\r\n      </mat-card-content>\r\n      <mat-card-content class=\"b-t-1\" *ngIf=\"autorizado === true\">\r\n        No tienes Acceso\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"row\">\r\n  <div class=\"col-sm-12\">\r\n    <app-tabla-kardex *ngIf=\"buscarClicked\" [localesMostrar]=\"localesSeleccionados\" [fechaInicio]=\"fechaInicio\"\r\n      [fechaFin]=\"fechaFin\" [codigosEscogidos]=\"codigosElegidos\" [seleccionNivel]=\"seleccionNivel\" [stock]=\"stock\"\r\n      [localSeleccion]=\"localSeleccion\"></app-tabla-kardex>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}