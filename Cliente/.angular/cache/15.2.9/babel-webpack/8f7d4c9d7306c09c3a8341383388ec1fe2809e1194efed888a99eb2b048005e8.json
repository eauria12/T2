{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/CARLOS 2021/Pictures/T2-STOCK/T2/Cliente/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/obtener-permisos.service\";\nimport * as i2 from \"src/app/services/lista-precio-existencia/obtener-lista-precios-existencia.service\";\nimport * as i3 from \"primeng/inputtext\";\nimport * as i4 from \"primeng/api\";\nimport * as i5 from \"primeng/table\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"../ui-components/select-lineas/select-lineas.component\";\nfunction ListaPreciosExistenciaComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"div\", 9)(3, \"div\", 11)(4, \"app-select-lineas\", 12);\n    i0.ɵɵlistener(\"selectedValue\", function ListaPreciosExistenciaComponent_div_9_Template_app_select_lineas_selectedValue_4_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onSelectionChange($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(5, \"div\", 13)(6, \"div\", 9)(7, \"div\", 14)(8, \"div\", 15)(9, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ListaPreciosExistenciaComponent_div_9_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.buscarExistencias());\n    });\n    i0.ɵɵtext(10, \" Buscar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 17);\n    i0.ɵɵtext(12, \" Limpiar \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 24)(1, \"span\", 25);\n    i0.ɵɵelement(2, \"i\", 26);\n    i0.ɵɵelementStart(3, \"input\", 27);\n    i0.ɵɵlistener(\"input\", function ListaPreciosExistenciaComponent_p_table_17_ng_template_2_Template_input_input_3_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      i0.ɵɵnextContext();\n      const _r5 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(_r5.filterGlobal($event.target.value, \"contains\"));\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_3_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const header_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(header_r16);\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_3_th_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const local_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" LOCAL \", local_r17, \" \");\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_3_th_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"th\")(1, \"p-columnFilter\", 31);\n    i0.ɵɵlistener(\"input\", function ListaPreciosExistenciaComponent_p_table_17_ng_template_3_th_4_Template_p_columnFilter_input_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const labelF_r18 = restoredCtx.$implicit;\n      i0.ɵɵnextContext(2);\n      const _r5 = i0.ɵɵreference(1);\n      return i0.ɵɵresetView(_r5.filter($event.target.value, labelF_r18, \"contains\"));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const labelF_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"field\", labelF_r18);\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_3_th_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 30);\n    i0.ɵɵtext(1, \" - \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, ListaPreciosExistenciaComponent_p_table_17_ng_template_3_th_1_Template, 2, 1, \"th\", 28);\n    i0.ɵɵtemplate(2, ListaPreciosExistenciaComponent_p_table_17_ng_template_3_th_2_Template, 2, 1, \"th\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"tr\");\n    i0.ɵɵtemplate(4, ListaPreciosExistenciaComponent_p_table_17_ng_template_3_th_4_Template, 2, 1, \"th\", 28);\n    i0.ɵɵtemplate(5, ListaPreciosExistenciaComponent_p_table_17_ng_template_3_th_5_Template, 2, 0, \"th\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.vistaAtabla[0]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.locales);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.vistaAtabla[1]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.locales);\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_4_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const labelP_r25 = ctx.$implicit;\n    const existencia_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", existencia_r22[labelP_r25], \"\");\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_4_td_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"-\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_4_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtemplate(1, ListaPreciosExistenciaComponent_p_table_17_ng_template_4_td_2_div_1_Template, 2, 0, \"div\", 32);\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const local_r27 = ctx.$implicit;\n    const existencia_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", existencia_r22[local_r27] === null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(existencia_r22[local_r27]);\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, ListaPreciosExistenciaComponent_p_table_17_ng_template_4_td_1_Template, 2, 1, \"td\", 28);\n    i0.ɵɵtemplate(2, ListaPreciosExistenciaComponent_p_table_17_ng_template_4_td_2_Template, 4, 2, \"td\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.vistaAtabla[1]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r8.locales);\n  }\n}\nfunction ListaPreciosExistenciaComponent_p_table_17_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 33);\n    i0.ɵɵtext(2, \"No existen registros.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function () {\n  return {\n    \"min-width\": \"75rem\"\n  };\n};\nfunction ListaPreciosExistenciaComponent_p_table_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p-table\", 18, 19);\n    i0.ɵɵtemplate(2, ListaPreciosExistenciaComponent_p_table_17_ng_template_2_Template, 4, 0, \"ng-template\", 20);\n    i0.ɵɵtemplate(3, ListaPreciosExistenciaComponent_p_table_17_ng_template_3_Template, 6, 4, \"ng-template\", 21);\n    i0.ɵɵtemplate(4, ListaPreciosExistenciaComponent_p_table_17_ng_template_4_Template, 3, 2, \"ng-template\", 22);\n    i0.ɵɵtemplate(5, ListaPreciosExistenciaComponent_p_table_17_ng_template_5_Template, 3, 0, \"ng-template\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", ctx_r1.listaPreciosExistenciaFiltrados)(\"rows\", 30)(\"showCurrentPageReport\", true)(\"loading\", ctx_r1.loading)(\"paginator\", true)(\"globalFilterFields\", ctx_r1.vistaAtabla[1])(\"tableStyle\", i0.ɵɵpureFunction0(7, _c0));\n  }\n}\nexport class ListaPreciosExistenciaComponent {\n  constructor(permisos, obtenerListaPreciosExistencia) {\n    this.permisos = permisos;\n    this.obtenerListaPreciosExistencia = obtenerListaPreciosExistencia;\n    this.autorizado = false;\n    this.listaPermisos = [];\n    this.codigoServicio = \"080506\";\n    this.lineasDisponibles = \"\";\n    this.lineasSeleccionadas = [];\n    this.mostrarListaLineas = false;\n    this.loading = true;\n    this.activityValues = [10, 25, 50];\n    this.listaPreciosExistencia = [];\n    this.listaPreciosExistenciaFiltrados = [];\n    this.vistaTabla = false;\n    this.labelslantasOReencauche = [\"IdItem\", \"NombreLinea\", \"familia\", \"diseño\", \"medida\", \"aro\", \"marca\", \"aplicación\", \"letra\", \"ic\", \"iv\", \"pr\", \"pais_origen\", \"Código_Prov\", \"PrecioMasIva\", \"Total_Nacional\"]; //se verifica cuando se tenga los datos\n    this.labelsvistaAllLubricantes = [\"IdItem\", \"NombreLinea\", \"familia\", \"diseño\", \"presentacion\", \"marca\", \"aplicación\", \"API\", \"SAE\", \"pais_origen\", \"Código_Prov\", \"PrecioMasIva\", \"Total_Nacional\"];\n    this.labelsvistaAllBaterias = [\"IdItem\", \"NombreLinea\", \"familia\", \"diseño\", \"polar\", \"capacidad\", \"voltios\", \"placas\", \"pais_origen\", \"Código_Prov\", \"PrecioMasIva\", \"Total_Nacional\"];\n    this.labelsvistaOtros = ['IdItem', 'NombreLinea', 'Descripción', 'Código_Prov', 'PrecioMasIva', 'Total_Nacional'];\n    this.headerLantasOReencauche = [\"CÓDIGO SAIA\", \"LÍNEA\", \"FAMILIA\", \"DISEÑO\", \"MEDIDA\", \"ARO\", \"MARCA\", \"APLICACIÓN\", \"LETRA\", \"IC\", \"IV\", \"PR\", \"PAÍS ORIGEN\", \"CÓDIGO PROVEEDOR\", \"P.V.P. INCL.IVA\", \"INVENTARIO NACIONAL\"]; //se verifica cuando se tenga los datos\n    this.headervistaAllLubricantes = [\"CÓDIGO SAIA\", \"LÍNEA\", \"FAMILIA\", \"DISEÑO\", \"PRESENTACIÓN\", \"MARCA\", \"APLICACIÓN\", \"API\", \"SAE\", \"PAÍS ORIGEN\", \"CÓDIGO PROVEEDOR\", \"P.V.P. INCL.IVA\", \"INVENTARIO NACIONAL\"];\n    this.headervistaAllBaterias = [\"CÓDIGO SAIA\", \"LÍNEA\", \"FAMILIA\", \"DISEÑO\", \"POLAR\", \"CAPACIDAD\", \"VOLTIOS\", \"PLACAS\", \"PAÍS ORIGEN\", \"CÓDIGO PROVEEDOR\", \"P.V.P. INCL.IVA\", \"INVENTARIO NACIONAL\"];\n    this.headervistaOtros = [\"CÓDIGO SAIA\", \"LÍNEA\", \"DESCRIPCIÓN\", \"CÓDIGO PROVEEDOR\", \"P.V.P. INCL.IVA\", \"INVENTARIO NACIONAL\"];\n    this.locales = [\"4\", \"5\", \"8\", \"9\", \"10\", \"11\", \"15\", \"20\", \"22\", \"23\", \"24\", \"26\", \"27\", \"32\", \"34\", \"35\", \"37\", \"38\", \"80\", \"82\", \"83\", \"84\", \"86\", \"87\", \"88\", \"89\"];\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      //Implementación de alerta x usuario sin autorización\n      _this.listaPermisos = yield _this.permisos.getPermisosSafe(_this.codigoServicio).catch(error => {\n        _this.autorizado = true;\n      });\n      if (_this.autorizado) {\n        _this.showAlert(\"USUARIO NO AUTORIZADO\");\n      } else {\n        _this.lineasDisponibles = yield _this.permisos.lineasDisponibles(_this.codigoServicio);\n        _this.listaPreciosExistencia = yield _this.obtenerListaPreciosExistencia.getListPrecioExistencia();\n        _this.loading = false;\n      }\n    })();\n  }\n  //Implementación de alerta x usuario sin autorización\n  showAlert(label) {\n    Swal.fire({\n      title: label,\n      icon: 'warning',\n      timer: 1500\n    });\n  }\n  showAlertLoading(label) {\n    Swal.fire({\n      title: label,\n      icon: 'info',\n      timer: 1500,\n      showConfirmButton: false\n    });\n  }\n  onSelectionChange(event) {\n    this.selected = event;\n  }\n  buscarExistencias() {\n    this.showAlertLoading(\"Cargando datos...\");\n    if (this.selected != null) {\n      this.cargarTabla();\n    } else {\n      this.showAlert(\"Seleccione una linea por favor\");\n    }\n  }\n  cargarTabla() {\n    this.vistaAtabla = [[], []];\n    this.vistaTabla = true;\n    this.handleLineasSeleccionadas(this.selected.split(\"-\")[1].trim());\n    this.localesValues = this.locales.map(clave => this.listaPreciosExistencia[parseInt(clave)]);\n    this.listaPreciosExistenciaFiltrados = this.listaPreciosExistencia.filter(objeto => objeto.NombreLinea.replace(/\\s+/g, \"\") === this.selected.replace(/\\s+/g, \"\"));\n    if (this.listaPreciosExistenciaFiltrados.length == 0) {\n      this.showAlert(\"No existen datos para mostrar\");\n    }\n  }\n  handleLineasSeleccionadas(seleccionadoTabla) {\n    if (seleccionadoTabla == \"LLANTAS\" || seleccionadoTabla == \"REENCAUCHE\") {\n      this.vistaAtabla = [this.headerLantasOReencauche, this.labelslantasOReencauche];\n    } else if (seleccionadoTabla.includes(\"LUBRICANTES\")) {\n      this.vistaAtabla = [this.headervistaAllLubricantes, this.labelsvistaAllLubricantes];\n    } else if (seleccionadoTabla.includes(\"BATERIAS\")) {\n      this.vistaAtabla = [this.headervistaAllBaterias, this.labelsvistaAllBaterias];\n    } else {\n      this.vistaAtabla = [this.headervistaOtros, this.labelsvistaOtros];\n    }\n  }\n}\nListaPreciosExistenciaComponent.ɵfac = function ListaPreciosExistenciaComponent_Factory(t) {\n  return new (t || ListaPreciosExistenciaComponent)(i0.ɵɵdirectiveInject(i1.ObtenerPermisosService), i0.ɵɵdirectiveInject(i2.ObtenerListaPreciosExistenciaService));\n};\nListaPreciosExistenciaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListaPreciosExistenciaComponent,\n  selectors: [[\"app-lista-precios-existencia\"]],\n  decls: 18,\n  vars: 2,\n  consts: [[1, \"cardWithShadow\", \"theme-card\"], [1, \"icon-title\"], [1, \"m-b-0\", \"title\"], [1, \"icon\"], [1, \"b-t-1\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"row\", \"justify-content-around\"], [1, \"col\"], [\"dataKey\", \"id\", \"currentPageReportTemplate\", \"Mostrando {first} a {last} de {totalRecords} registros\", \"styleClass\", \"p-datatable-gridlines\", 3, \"value\", \"rows\", \"showCurrentPageReport\", \"loading\", \"paginator\", \"globalFilterFields\", \"tableStyle\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-10\"], [1, \"col-sm-7\"], [3, \"selectedValue\"], [1, \"col-md-2\"], [1, \"col-sm-10\"], [1, \"buttons\"], [\"mat-flat-button\", \"\", \"color\", \"warn\", 3, \"click\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", 1, \"m-t-8\"], [\"dataKey\", \"id\", \"currentPageReportTemplate\", \"Mostrando {first} a {last} de {totalRecords} registros\", \"styleClass\", \"p-datatable-gridlines\", 3, \"value\", \"rows\", \"showCurrentPageReport\", \"loading\", \"paginator\", \"globalFilterFields\", \"tableStyle\"], [\"dt2\", \"\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"pTemplate\", \"emptymessage\"], [1, \"flex\"], [1, \"p-input-icon-left\", \"ml-auto\"], [1, \"pi\", \"pi-search\"], [\"pInputText\", \"\", \"type\", \"text\", \"placeholder\", \"Buscar\", 3, \"input\"], [4, \"ngFor\", \"ngForOf\"], [\"style\", \"width: 1%\", 4, \"ngFor\", \"ngForOf\"], [2, \"width\", \"1%\"], [\"type\", \"text\", 3, \"field\", \"input\"], [4, \"ngIf\"], [\"colspan\", \"5\"]],\n  template: function ListaPreciosExistenciaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-card\", 0)(1, \"mat-card-header\", 1)(2, \"mat-card-title\", 2)(3, \"mat-icon\", 3);\n      i0.ɵɵtext(4, \"search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"span\");\n      i0.ɵɵtext(6, \"Filtros de B\\u00FAsqueda\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"mat-card-content\", 4)(8, \"form\");\n      i0.ɵɵtemplate(9, ListaPreciosExistenciaComponent_div_9_Template, 13, 0, \"div\", 5);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(10, \"mat-card\", 0)(11, \"mat-card-header\", 1)(12, \"mat-card-title\", 2)(13, \"div\", 6)(14, \"div\", 7)(15, \"p\");\n      i0.ɵɵtext(16, \"Registros\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵtemplate(17, ListaPreciosExistenciaComponent_p_table_17_Template, 6, 8, \"p-table\", 8);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.autorizado === false);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.vistaTabla);\n    }\n  },\n  dependencies: [i3.InputText, i4.PrimeTemplate, i5.Table, i5.ColumnFilter, i6.NgForOf, i6.NgIf, i7.MatCard, i7.MatCardContent, i7.MatCardHeader, i7.MatCardTitle, i8.MatButton, i9.MatIcon, i10.ɵNgNoValidate, i10.NgControlStatusGroup, i10.NgForm, i11.SelectLineasComponent],\n  styles: [\"@charset \\\"UTF-8\\\";\\n.icon-title[_ngcontent-%COMP%] {\\n  background-color: #faac36;\\n  color: white;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.icon[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\n.lista-container[_ngcontent-%COMP%] {\\n  height: 200px;\\n  \\n  overflow: auto;\\n  \\n}\\n\\n.buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  gap: 20px;\\n  padding-top: 15px;\\n}\\n\\n.theme-card.mat-mdc-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%] {\\n  padding-top: 10px;\\n}\\n\\n.radio-horizontal[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n\\n.parte[_ngcontent-%COMP%] {\\n  flex: 1;\\n  text-overflow: ellipsis !important;\\n  white-space: normal !important;\\n}\\n\\n.parte2[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n\\n.centrado[_ngcontent-%COMP%] {\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uLy4uLy4uLy4uLy4uLy4uL0NBUkxPUyUyMDIwMjEvUGljdHVyZXMvVDItU1RPQ0svVDIvQ2xpZW50ZS9zcmMvYXBwL3BhZ2VzL2xpc3RhLXByZWNpb3MtZXhpc3RlbmNpYS9saXN0YS1wcmVjaW9zLWV4aXN0ZW5jaWEuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYXBwL3BhZ2VzL2xpc3RhLXByZWNpb3MtZXhpc3RlbmNpYS9saXN0YS1wcmVjaW9zLWV4aXN0ZW5jaWEuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FDQWhCO0VBQ0kseUJBQUE7RUFDQSxZQUFBO0FERUo7O0FDQ0E7RUFDSSxhQUFBO0VBQ0EsOEJBQUE7QURFSjs7QUNDQTtFQUNJLGtCQUFBO0FERUo7O0FDQ0E7RUFDSSxhQUFBO0VBQ0EsZ0NBQUE7RUFDQSxjQUFBO0VBQ0Esc0NBQUE7QURFSjs7QUNDQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0FERUo7O0FDRUk7RUFDSSxpQkFBQTtBRENSOztBQ0dBO0VBQ0ksYUFBQTtBREFKOztBQ0lBO0VBQ0ksT0FBQTtFQUNBLGtDQUFBO0VBRUEsOEJBQUE7QURGSjs7QUNLQTtFQUNJLE9BQUE7QURGSjs7QUNLQTtFQUNJLG1CQUFBO0FERkoiLCJzb3VyY2VzQ29udGVudCI6WyJAY2hhcnNldCBcIlVURi04XCI7XG4uaWNvbi10aXRsZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmYWFjMzY7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnRpdGxlIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuXG4uaWNvbiB7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLmxpc3RhLWNvbnRhaW5lciB7XG4gIGhlaWdodDogMjAwcHg7XG4gIC8qIEVzdGFibGVjZSBsYSBhbHR1cmEgZGVzZWFkYSAqL1xuICBvdmVyZmxvdzogYXV0bztcbiAgLyogQcODwrFhZGUgc2Nyb2xsIGN1YW5kbyBzZWEgbmVjZXNhcmlvICovXG59XG5cbi5idXR0b25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGdhcDogMjBweDtcbiAgcGFkZGluZy10b3A6IDE1cHg7XG59XG5cbi50aGVtZS1jYXJkLm1hdC1tZGMtY2FyZCAubWF0LW1kYy1jYXJkLWNvbnRlbnQge1xuICBwYWRkaW5nLXRvcDogMTBweDtcbn1cblxuLnJhZGlvLWhvcml6b250YWwge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuXG4ucGFydGUge1xuICBmbGV4OiAxO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcyAhaW1wb3J0YW50O1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsICFpbXBvcnRhbnQ7XG59XG5cbi5wYXJ0ZTIge1xuICBmbGV4OiAxO1xufVxuXG4uY2VudHJhZG8ge1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufSIsIi5pY29uLXRpdGxlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWFjMzY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi50aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4uaWNvbiB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcbi5saXN0YS1jb250YWluZXIge1xyXG4gICAgaGVpZ2h0OiAyMDBweDtcclxuICAgIC8qIEVzdGFibGVjZSBsYSBhbHR1cmEgZGVzZWFkYSAqL1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICAvKiBBw4PCsWFkZSBzY3JvbGwgY3VhbmRvIHNlYSBuZWNlc2FyaW8gKi9cclxufVxyXG5cclxuLmJ1dHRvbnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGdhcDogMjBweDtcclxuICAgIHBhZGRpbmctdG9wOiAxNXB4O1xyXG59XHJcblxyXG4udGhlbWUtY2FyZC5tYXQtbWRjLWNhcmQge1xyXG4gICAgLm1hdC1tZGMtY2FyZC1jb250ZW50IHtcclxuICAgICAgICBwYWRkaW5nLXRvcDogMTBweDtcclxuICAgIH1cclxufVxyXG5cclxuLnJhZGlvLWhvcml6b250YWwge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxufVxyXG5cclxuXHJcbi5wYXJ0ZSB7XHJcbiAgICBmbGV4OiAxO1xyXG4gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXMgIWltcG9ydGFudDtcclxuICAgIC8vb3ZlcmZsb3c6IHNjcm9sbCAhaW1wb3J0YW50O1xyXG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4ucGFydGUyIHtcclxuICAgIGZsZXg6IDE7XHJcbn1cclxuXHJcbi5jZW50cmFkbyB7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\", \".p-column-filter-row .p-column-filter-menu-button, .p-column-filter-row[_ngcontent-%COMP%]   .p-column-filter-clear-button[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n\\n    .p-column-filter-clear-button {\\n    display: none !important;\\n  }\"]\n});","map":{"version":3,"mappings":"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","names":["Swal","i0","ListaPreciosExistenciaComponent","constructor","permisos","obtenerListaPreciosExistencia","ngOnInit","listaPermisos","getPermisosSafe","codigoServicio","catch","error","autorizado","showAlert","lineasDisponibles","listaPreciosExistencia","getListPrecioExistencia","loading","label","fire","title","icon","timer","showAlertLoading","showConfirmButton","onSelectionChange","event","selected","buscarExistencias","cargarTabla","vistaAtabla","vistaTabla","handleLineasSeleccionadas","split","trim","localesValues","locales","map","clave","parseInt","listaPreciosExistenciaFiltrados","filter","objeto","NombreLinea","replace","length","seleccionadoTabla","headerLantasOReencauche","labelslantasOReencauche","includes","headervistaAllLubricantes","labelsvistaAllLubricantes","headervistaAllBaterias","labelsvistaAllBaterias","headervistaOtros","labelsvistaOtros","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\CARLOS 2021\\Pictures\\T2-STOCK\\T2\\Cliente\\src\\app\\pages\\lista-precios-existencia\\lista-precios-existencia.component.ts","C:\\Users\\CARLOS 2021\\Pictures\\T2-STOCK\\T2\\Cliente\\src\\app\\pages\\lista-precios-existencia\\lista-precios-existencia.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { Permiso } from 'src/app/interfaces/permiso';\r\nimport { ObtenerPermisosService } from 'src/app/services/obtener-permisos.service'\r\nimport Swal from 'sweetalert2';\r\nimport { ObtenerListaPreciosExistenciaService } from 'src/app/services/lista-precio-existencia/obtener-lista-precios-existencia.service';\r\nimport { Existencia } from 'src/app/interfaces/existencia';\r\n\r\n@Component({\r\n  selector: 'app-lista-precios-existencia',\r\n  templateUrl: './lista-precios-existencia.component.html',\r\n  styleUrls: ['./lista-precios-existencia.component.scss']\r\n\r\n})\r\nexport class ListaPreciosExistenciaComponent {\r\n  autorizado: boolean = false;\r\n  listaPermisos: Permiso[] = [];\r\n  codigoServicio: String = \"080506\";\r\n  lineasDisponibles: String = \"\";\r\n  lineasSeleccionadas: any[] = [];\r\n  mostrarListaLineas: boolean = false;\r\n  selected: string; // Variable para almacenar el valor seleccionado\r\n  inventario!: string;\r\n  loading: boolean = true;\r\n  activityValues: number[] = [10, 25, 50];\r\n  listaPreciosExistencia: Existencia[] = [];\r\n  listaPreciosExistenciaFiltrados: Existencia[] = [];\r\n\r\n  vistaAtabla:[string[],string[]];\r\n \r\n  vistaTabla: boolean = false;\r\n\r\n  labelslantasOReencauche = [\r\n    \"IdItem\", \"NombreLinea\",\r\n    \"familia\", \"diseño\", \"medida\", \"aro\", \"marca\", \"aplicación\", \"letra\",\r\n    \"ic\", \"iv\", \"pr\", \"pais_origen\", \"Código_Prov\", \"PrecioMasIva\", \"Total_Nacional\"\r\n  ]//se verifica cuando se tenga los datos\r\n\r\n  labelsvistaAllLubricantes = [\r\n    \"IdItem\", \"NombreLinea\",\r\n    \"familia\", \"diseño\", \"presentacion\", \"marca\", \"aplicación\", \"API\", \"SAE\",\r\n    \"pais_origen\", \"Código_Prov\", \"PrecioMasIva\", \"Total_Nacional\"\r\n  ]\r\n  labelsvistaAllBaterias = [\r\n    \"IdItem\", \"NombreLinea\",\r\n    \"familia\", \"diseño\", \"polar\", \"capacidad\", \"voltios\", \"placas\",\r\n    \"pais_origen\", \"Código_Prov\", \"PrecioMasIva\", \"Total_Nacional\"\r\n  ]\r\n  labelsvistaOtros = [\r\n    'IdItem',\r\n    'NombreLinea',\r\n    'Descripción',\r\n    'Código_Prov',\r\n    'PrecioMasIva',\r\n    'Total_Nacional'\r\n  ]\r\n\r\n  headerLantasOReencauche = [\r\n    \"CÓDIGO SAIA\", \"LÍNEA\",\r\n    \"FAMILIA\", \"DISEÑO\", \"MEDIDA\", \"ARO\", \"MARCA\", \"APLICACIÓN\", \"LETRA\",\r\n    \"IC\", \"IV\", \"PR\", \"PAÍS ORIGEN\", \"CÓDIGO PROVEEDOR\", \"P.V.P. INCL.IVA\", \"INVENTARIO NACIONAL\"\r\n  ]//se verifica cuando se tenga los datos\r\n\r\n  headervistaAllLubricantes = [\r\n    \"CÓDIGO SAIA\", \"LÍNEA\",\r\n    \"FAMILIA\", \"DISEÑO\", \"PRESENTACIÓN\", \"MARCA\", \"APLICACIÓN\", \"API\", \"SAE\",\r\n    \"PAÍS ORIGEN\", \"CÓDIGO PROVEEDOR\", \"P.V.P. INCL.IVA\", \"INVENTARIO NACIONAL\"\r\n  ]\r\n  headervistaAllBaterias = [\r\n    \"CÓDIGO SAIA\", \"LÍNEA\",\r\n    \"FAMILIA\", \"DISEÑO\", \"POLAR\", \"CAPACIDAD\", \"VOLTIOS\", \"PLACAS\",\r\n    \"PAÍS ORIGEN\", \"CÓDIGO PROVEEDOR\", \"P.V.P. INCL.IVA\", \"INVENTARIO NACIONAL\"\r\n  ]\r\n  headervistaOtros = [\r\n    \"CÓDIGO SAIA\",\r\n    \"LÍNEA\",\r\n    \"DESCRIPCIÓN\",\r\n    \"CÓDIGO PROVEEDOR\",\r\n    \"P.V.P. INCL.IVA\",\r\n    \"INVENTARIO NACIONAL\"\r\n  ]\r\n\r\n  locales = [\r\n    \"4\",\r\n    \"5\",\r\n    \"8\",\r\n    \"9\",\r\n    \"10\",\r\n    \"11\",\r\n    \"15\",\r\n    \"20\",\r\n    \"22\",\r\n    \"23\",\r\n    \"24\",\r\n    \"26\",\r\n    \"27\",\r\n    \"32\",\r\n    \"34\",\r\n    \"35\",\r\n    \"37\",\r\n    \"38\",\r\n    \"80\",\r\n    \"82\",\r\n    \"83\",\r\n    \"84\",\r\n    \"86\",\r\n    \"87\",\r\n    \"88\",\r\n    \"89\"\r\n  ];\r\n  localesValues: Existencia[];\r\n\r\n\r\n  constructor(private permisos: ObtenerPermisosService, private obtenerListaPreciosExistencia: ObtenerListaPreciosExistenciaService) { }\r\n\r\n\r\n  async ngOnInit() {\r\n    //Implementación de alerta x usuario sin autorización\r\n    this.listaPermisos = await this.permisos.getPermisosSafe(this.codigoServicio).catch((error) => { this.autorizado = true });\r\n    if (this.autorizado) {\r\n      this.showAlert(\"USUARIO NO AUTORIZADO\");\r\n    } else {\r\n      this.lineasDisponibles = await this.permisos.lineasDisponibles(this.codigoServicio);\r\n      this.listaPreciosExistencia = await this.obtenerListaPreciosExistencia.getListPrecioExistencia();\r\n      this.loading = false;\r\n    }\r\n\r\n  }\r\n\r\n  //Implementación de alerta x usuario sin autorización\r\n  showAlert(label: string) {\r\n    Swal.fire({\r\n      title: label,\r\n      icon: 'warning', // Puedes usar 'success', 'error', 'warning', 'info', 'question' u otros íconos personalizados\r\n      timer: 1500\r\n\r\n    });\r\n  }\r\n  showAlertLoading(label: string) {\r\n    Swal.fire({\r\n      title: label,\r\n      icon: 'info',\r\n      timer: 1500,\r\n      showConfirmButton: false,\r\n\r\n    });\r\n  }\r\n\r\n  onSelectionChange(event: any) {\r\n    this.selected = event;\r\n  }\r\n\r\n\r\n  buscarExistencias() {//button method\r\n    this.showAlertLoading(\"Cargando datos...\")\r\n    if (this.selected != null) {\r\n      this.cargarTabla();\r\n    }\r\n    else {\r\n      this.showAlert(\"Seleccione una linea por favor\");\r\n    }\r\n\r\n  }\r\n  cargarTabla() {\r\n    this.vistaAtabla=[[],[]];\r\n    this.vistaTabla=true;\r\n    this.handleLineasSeleccionadas(this.selected.split(\"-\")[1].trim());\r\n    this.localesValues = this.locales.map((clave) => this.listaPreciosExistencia[parseInt(clave)]);\r\n    this.listaPreciosExistenciaFiltrados = this.listaPreciosExistencia.filter(objeto => objeto.NombreLinea.replace(/\\s+/g, \"\") === this.selected.replace(/\\s+/g, \"\"));\r\n    if (this.listaPreciosExistenciaFiltrados.length == 0) {\r\n      this.showAlert(\"No existen datos para mostrar\");\r\n    }\r\n  }\r\n\r\n\r\n  handleLineasSeleccionadas(seleccionadoTabla: string) {\r\n\r\n    if (seleccionadoTabla == \"LLANTAS\" || seleccionadoTabla == \"REENCAUCHE\") {\r\n      this.vistaAtabla=[this.headerLantasOReencauche,this.labelslantasOReencauche]\r\n    } else if (seleccionadoTabla.includes(\"LUBRICANTES\")) {\r\n      this.vistaAtabla=[this.headervistaAllLubricantes,this.labelsvistaAllLubricantes]\r\n    } else if (seleccionadoTabla.includes(\"BATERIAS\")) {\r\n      this.vistaAtabla=[this.headervistaAllBaterias,this.labelsvistaAllBaterias]\r\n    } else {\r\n      this.vistaAtabla=[this.headervistaOtros,this.labelsvistaOtros]\r\n    }\r\n  }\r\n}","<mat-card class=\"cardWithShadow theme-card\">\r\n  <mat-card-header class=\"icon-title\">\r\n    <mat-card-title class=\"m-b-0 title\">\r\n      <mat-icon class=\"icon\">search</mat-icon><span>Filtros de Búsqueda</span>\r\n    </mat-card-title>\r\n  </mat-card-header>\r\n\r\n  <mat-card-content class=\"b-t-1\">\r\n    <form>\r\n      <div class=\"row\" *ngIf=\"autorizado === false\">\r\n        \r\n        <div class=\"col-md-10\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-7\">\r\n              <app-select-lineas (selectedValue)=\"onSelectionChange($event)\"></app-select-lineas>\r\n            </div>\r\n          </div>\r\n\r\n          <!--\r\n\r\n          <div class=\"row centrado\">\r\n\r\n            <div class=\"col-sm-4\">\r\n              <mat-selection-list [multiple]=\"false\" class=\"radio-horizontal\">\r\n                <mat-list-option togglePosition=\"before\" class=\"parte\">\r\n                  Inventario Físico\r\n                </mat-list-option>\r\n                <mat-list-option togglePosition=\"before\" class=\"parte2\">\r\n                  Inventario Disponible\r\n                </mat-list-option>\r\n              </mat-selection-list>\r\n            </div>\r\n\r\n            <div class=\"col-sm-4\">\r\n              <app-fecha-inventario></app-fecha-inventario>\r\n            </div>\r\n\r\n            <div class=\"col-sm-4\">\r\n              <app-tipo-inventario></app-tipo-inventario>\r\n            </div>\r\n\r\n          </div> -->\r\n        </div>\r\n\r\n        <div class=\"col-md-2\">\r\n          <div class=\"row\">\r\n            <div class=\"col-sm-10\">\r\n              <div class=\"buttons\">\r\n                <button mat-flat-button color=\"warn\" (click)=\"buscarExistencias()\">\r\n                  <!--(click)=\"buscarLocales()\"-->\r\n                  Buscar\r\n                </button>\r\n                <button mat-flat-button color=\"accent\" class=\"m-t-8\">\r\n                  Limpiar\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </form>\r\n  </mat-card-content>\r\n</mat-card>\r\n\r\n<mat-card class=\"cardWithShadow theme-card\">\r\n  <mat-card-header class=\"icon-title\">\r\n    <mat-card-title class=\"m-b-0 title\">\r\n      <div class=\"row justify-content-around\">\r\n        <div class=\"col\">\r\n          <p>Registros</p>\r\n        </div>\r\n      </div>\r\n    </mat-card-title>\r\n  </mat-card-header>\r\n  <p-table *ngIf=\"vistaTabla\" #dt2 [value]=\"listaPreciosExistenciaFiltrados\" dataKey=\"id\" [rows]=\"30\"\r\n    [showCurrentPageReport]=\"true\" [loading]=\"loading\" [paginator]=\"true\"\r\n    currentPageReportTemplate=\"Mostrando {first} a {last} de {totalRecords} registros\"\r\n    [globalFilterFields]=\"vistaAtabla[1]\" [tableStyle]=\"{ 'min-width': '75rem' }\" styleClass=\"p-datatable-gridlines\">\r\n    <ng-template pTemplate=\"caption\">\r\n      <div class=\"flex\">\r\n        <span class=\"p-input-icon-left ml-auto\">\r\n          <i class=\"pi pi-search\"></i>\r\n          <input pInputText type=\"text\" (input)=\"dt2.filterGlobal($any($event.target).value, 'contains')\"\r\n            placeholder=\"Buscar\" />\r\n        </span>\r\n      </div>\r\n    </ng-template>\r\n    <ng-template pTemplate=\"header\">\r\n      <tr>\r\n        <th *ngFor=\"let header of vistaAtabla[0]\">{{ header }}</th>\r\n        <th style=\"width: 1%\" *ngFor=\"let local of locales\">\r\n          LOCAL {{ local }}\r\n        </th>\r\n      </tr>\r\n      <tr>\r\n        <th *ngFor=\"let labelF of vistaAtabla[1]\">\r\n          <p-columnFilter type=\"text\" (input)=\"dt2.filter($any($event.target).value,labelF, 'contains')\" [field]=\"labelF\"></p-columnFilter>\r\n        </th>\r\n        <th style=\"width: 1%\" *ngFor=\"let local of locales\">\r\n          -\r\n        </th>\r\n      </tr>\r\n    </ng-template>\r\n    <ng-template pTemplate=\"body\" let-existencia>\r\n      <tr>\r\n        <td *ngFor=\"let labelP of vistaAtabla[1]\"> {{ existencia[labelP] }}</td>\r\n        <td *ngFor=\"let local of locales\">\r\n          <div *ngIf=\"existencia[local] === null\">-</div>\r\n          <div>{{ existencia[local] }}</div>\r\n        </td>\r\n      </tr>\r\n    </ng-template>\r\n    <ng-template pTemplate=\"emptymessage\">\r\n      <tr>\r\n        <td colspan=\"5\">No existen registros.</td>\r\n      </tr>\r\n    </ng-template>\r\n  </p-table>\r\n</mat-card>\r\n<style>\r\n  ::ng-deep .p-column-filter-row .p-column-filter-menu-button,\r\n  .p-column-filter-row .p-column-filter-clear-button {\r\n    display: none;\r\n  }\r\n\r\n  ::ng-deep .p-column-filter-clear-button {\r\n    display: none !important;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}