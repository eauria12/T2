{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/CAELOS JR 2018/Documents/Proyecto StockTaking/Stocktaking-G2/Cliente/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/obtener-permisos.service\";\nimport * as i2 from \"src/app/services/resources/local.service\";\nimport * as i3 from \"src/app/services/obtener-local-info.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/list\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"../ui-components/tablas/tablas.component\";\nimport * as i11 from \"../ui-components/lists/lista-locales/lista-locales.component\";\nimport * as i12 from \"../ui-components/lists/lista-lineas/lista-lineas.component\";\nimport * as i13 from \"../ui-components/codigo-articulo/codigo-articulo.component\";\nconst _c0 = [\"nivel\"];\nconst _c1 = [\"zon\"];\nconst _c2 = [\"lineArt\"];\nconst _c3 = [\"present\"];\nfunction SaldoInventarioComponent_mat_card_content_9_mat_list_option_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list-option\", 13);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_card_content_9_mat_list_option_22_Template_mat_list_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const zon_r11 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.onZonaSeleccionada(zon_r11));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const zon_r11 = ctx.$implicit;\n    const i_r12 = ctx.index;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"value\", zon_r11)(\"disabled\", ctx_r5.zonasPermitidas[i_r12]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", zon_r11, \" \");\n  }\n}\nfunction SaldoInventarioComponent_mat_card_content_9_mat_list_option_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list-option\", 32);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_card_content_9_mat_list_option_28_Template_mat_list_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const pr_r15 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.escogeArticulos(pr_r15));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pr_r15 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", pr_r15);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", pr_r15, \" \");\n  }\n}\nfunction SaldoInventarioComponent_mat_card_content_9_mat_list_option_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-list-option\", 33);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_card_content_9_mat_list_option_32_Template_mat_list_option_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const linArt_r18 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r19.filtraArticulos(linArt_r18));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const linArt_r18 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", linArt_r18);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", linArt_r18, \" \");\n  }\n}\nfunction SaldoInventarioComponent_mat_card_content_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card-content\", 8)(1, \"form\")(2, \"div\", 0)(3, \"div\", 9)(4, \"div\", 0)(5, \"div\", 10)(6, \"mat-card-title\");\n    i0.ɵɵtext(7, \"Nivel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"mat-selection-list\", 11, 12)(10, \"mat-list-option\", 13);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_card_content_9_Template_mat_list_option_click_10_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.handleNivelSeleccionado());\n    });\n    i0.ɵɵtext(11, \"Nacional\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"mat-list-option\", 13);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_card_content_9_Template_mat_list_option_click_12_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.handleNivelSeleccionado());\n    });\n    i0.ɵɵtext(13, \"Zona\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"mat-list-option\", 13);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_card_content_9_Template_mat_list_option_click_14_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.handleNivelSeleccionado());\n    });\n    i0.ɵɵtext(15, \"Local\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"div\", 10)(17, \"mat-card-title\");\n    i0.ɵɵtext(18, \" Zonas \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"mat-card\", 14)(20, \"mat-selection-list\", 15, 16);\n    i0.ɵɵtemplate(22, SaldoInventarioComponent_mat_card_content_9_mat_list_option_22_Template, 2, 3, \"mat-list-option\", 17);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"div\", 10)(24, \"mat-card-title\");\n    i0.ɵɵtext(25, \"Presentaci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"mat-selection-list\", 11, 18);\n    i0.ɵɵtemplate(28, SaldoInventarioComponent_mat_card_content_9_mat_list_option_28_Template, 2, 2, \"mat-list-option\", 19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 1)(30, \"mat-selection-list\", 20, 21);\n    i0.ɵɵtemplate(32, SaldoInventarioComponent_mat_card_content_9_mat_list_option_32_Template, 2, 2, \"mat-list-option\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 1)(34, \"app-codigo-articulo\", 23);\n    i0.ɵɵlistener(\"codigosEscogidos\", function SaldoInventarioComponent_mat_card_content_9_Template_app_codigo_articulo_codigosEscogidos_34_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.handleCodigosElegidos($event));\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(35, \"div\", 24)(36, \"div\", 0)(37, \"div\", 25)(38, \"app-lista-lineas\", 26);\n    i0.ɵɵlistener(\"lineasSeleccionadas\", function SaldoInventarioComponent_mat_card_content_9_Template_app_lista_lineas_lineasSeleccionadas_38_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r26.handleLineasSeleccionadas($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"div\", 25)(40, \"app-lista-locales\", 27, 28);\n    i0.ɵɵlistener(\"localesSeleccionados\", function SaldoInventarioComponent_mat_card_content_9_Template_app_lista_locales_localesSeleccionados_40_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.handleLocalesSeleccionados($event));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(42, \"div\", 1)(43, \"div\", 29)(44, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_card_content_9_Template_button_click_44_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.imprimirTabla());\n    });\n    i0.ɵɵtext(45, \" Buscar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function SaldoInventarioComponent_mat_card_content_9_Template_button_click_46_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.limpiar());\n    });\n    i0.ɵɵtext(47, \" Limpiar \");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"multiple\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r0.typesOfNivel[0])(\"disabled\", !ctx_r0.opcionesNivel[0]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r0.typesOfNivel[1])(\"disabled\", !(ctx_r0.opcionesNivel[2] || ctx_r0.opcionesNivel[3]));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", ctx_r0.typesOfNivel[2])(\"disabled\", !ctx_r0.opcionesNivel[1]);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.zonaSelected)(\"multiple\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.zona);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"multiple\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.presentacion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"multiple\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.lineArticulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r0.mostrarFiltroCodigo)(\"lineasDisponibles\", ctx_r0.lineasDisponibles);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"lineasDisponibles\", ctx_r0.lineasDisponibles)(\"disabled\", !ctx_r0.mostrarListaLineas);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"localesDisponibles\", ctx_r0.localesDisponibles)(\"NivelLocal\", ctx_r0.NivelLocal);\n  }\n}\nfunction SaldoInventarioComponent_mat_card_content_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card-content\", 8);\n    i0.ɵɵtext(1, \" No tienes Acceso \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SaldoInventarioComponent_app_tablas_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-tablas\", 34);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"localesMostrar\", ctx_r2.localesSeleccionados)(\"lineasMostrar\", ctx_r2.lineasSeleccionadas)(\"permisoCostoUnitario\", ctx_r2.permisoCostoUnitario)(\"fechaInicio\", ctx_r2.fechaInicio)(\"fechaFin\", ctx_r2.fechaFin)(\"codigosVisualizar\", ctx_r2.mostrarFiltroCodigo)(\"lineasVisualizar\", ctx_r2.mostrarListaLineas)(\"codigosEscogidos\", ctx_r2.codigosElegidos)(\"formatoPresentacion\", ctx_r2.formatoPresentacion);\n  }\n}\nconst presentacionConsolidado = \"C\";\nconst presentacionLocal = \"L\";\nexport class SaldoInventarioComponent {\n  constructor(permisos, LocalIdService, obtenerLocal) {\n    this.permisos = permisos;\n    this.LocalIdService = LocalIdService;\n    this.obtenerLocal = obtenerLocal;\n    this.buscarClicked = false;\n    this.fechaInicio = new Date(1900, 1, 1);\n    this.fechaFin = new Date(2200, 31, 12);\n    this.localesSeleccionados = [];\n    this.zonaSelected = false;\n    this.lineasSeleccionadas = [];\n    this.opcionesNivel = [];\n    this.NivelLocal = \"\";\n    this.listaPermisos = [];\n    this.codigosElegidos = [];\n    this.lineasDisponibles = \"\";\n    this.localesDisponibles = [];\n    this.codigoServicio = \"080509\";\n    this.mostrarListaLineas = false;\n    this.mostrarFiltroCodigo = false;\n    this.typesOfNivel = ['Nacional', 'Zona', 'Local'];\n    this.presentacion = ['Saldos Consolidados', 'Saldos por Local'];\n    this.lineArticulo = ['Por Código de Artículo', 'Por Línea de Artículo'];\n    this.zona = ['Nacional', 'Zona Centro-Norte', 'Zona Sur'];\n    this.zonasPermitidas = [true, true, true];\n    this.acceso = false;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.localesDisponibles = yield _this.permisos.localesDisponibles(_this.codigoServicio);\n      _this.listaPermisos = yield _this.permisos.getPermisosSafe(_this.codigoServicio);\n      _this.opcionesNivel = yield _this.permisos.permisosNivel(_this.codigoServicio);\n      _this.permisoCostoUnitario = yield _this.permisos.permisoCostoUnitario(_this.codigoServicio);\n      _this.lineasDisponibles = yield _this.permisos.lineasDisponibles(_this.codigoServicio);\n      _this.acceso = true;\n      _this.localId = _this.LocalIdService.getLocalId();\n      _this.zonaId = yield _this.obtenerLocal.getLocalZona(_this.localId);\n    })();\n  }\n  handleLocalesSeleccionados(locales) {\n    this.localesSeleccionados = locales;\n  }\n  handleLineasSeleccionadas(lineas) {\n    this.lineasSeleccionadas = lineas;\n  }\n  handleFechaInicio(Incio) {\n    this.fechaInicio = Incio;\n  }\n  handleFechaFin(Fin) {\n    this.fechaFin = Fin;\n  }\n  handleNivelSeleccionado() {\n    if (this.nivelList.selectedOptions.selected.length > 0) {\n      if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[0]) {\n        this.setInformacionNivel(false, \"Nacional\");\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[1]) {\n        this.setInformacionNivel(true, \"\");\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[2]) {\n        this.setInformacionNivel(false, \"Local\");\n      }\n    }\n  }\n  setInformacionNivel(zonaSeleccionada, niveldelLocal) {\n    this.zonaSelected = zonaSeleccionada;\n    this.NivelLocal = niveldelLocal;\n    if (this.zonaSelected) {\n      if (this.opcionesNivel[2]) {\n        this.zonasPermitidas[this.zonaId] = false;\n      } else {\n        this.zonasPermitidas = [false, false, false];\n      }\n    }\n  }\n  handleCodigosElegidos(codigos) {\n    this.codigosElegidos = codigos;\n  }\n  onZonaSeleccionada(zon) {\n    if (this.zonaList.selectedOptions.selected.length > 0) {\n      if (zon === \"Nacional\") {\n        this.NivelLocal = \"Nacional\";\n      } else if (zon === this.zona[1]) {\n        this.NivelLocal = \"Zona 1\";\n      } else if (zon === this.zona[2]) {\n        this.NivelLocal = \"Zona 2\";\n      }\n    }\n  }\n  filtraArticulos(lineArticulo) {\n    if (this.lineArt.selectedOptions.selected.length > 0) {\n      if (lineArticulo === this.lineArticulo[0]) {\n        this.mostrarListaLineas = false;\n        this.mostrarFiltroCodigo = true;\n      } else if (lineArticulo === this.lineArticulo[1]) {\n        this.mostrarListaLineas = true;\n        this.mostrarFiltroCodigo = false;\n      }\n    }\n  }\n  escogeArticulos(formatoPresentar) {\n    if (this.present.selectedOptions.selected.length > 0) {\n      if (formatoPresentar === this.presentacion[0]) {\n        this.formatoPresentacion = presentacionConsolidado;\n      } else if (formatoPresentar === this.presentacion[1]) {\n        this.formatoPresentacion = presentacionLocal;\n      }\n    }\n  }\n  limpiar() {\n    window.location.href = \"/saldo-inventario\";\n  }\n  showAlert(label) {\n    Swal.fire({\n      title: label,\n      icon: 'warning',\n      timer: 1500\n    });\n  }\n  imprimirTabla() {\n    if (this.localesSeleccionados.length == 0) {\n      this.showAlert(\"Seleccione local/es\");\n      this.buscarClicked = false;\n    }\n    this.buscarClicked = true;\n  }\n}\nSaldoInventarioComponent.ɵfac = function SaldoInventarioComponent_Factory(t) {\n  return new (t || SaldoInventarioComponent)(i0.ɵɵdirectiveInject(i1.ObtenerPermisosService), i0.ɵɵdirectiveInject(i2.LocalIdService), i0.ɵɵdirectiveInject(i3.ObtenerLocalInfoService));\n};\nSaldoInventarioComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SaldoInventarioComponent,\n  selectors: [[\"app-saldo-inventario\"]],\n  viewQuery: function SaldoInventarioComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(_c2, 5);\n      i0.ɵɵviewQuery(_c3, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.nivelList = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zonaList = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.lineArt = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.present = _t.first);\n    }\n  },\n  decls: 13,\n  vars: 3,\n  consts: [[1, \"row\"], [1, \"col-sm-12\"], [1, \"cardWithShadow\", \"theme-card\"], [1, \"icon-title\"], [1, \"m-b-0\", \"title\"], [1, \"icon\"], [\"class\", \"b-t-1\", 4, \"ngIf\"], [3, \"localesMostrar\", \"lineasMostrar\", \"permisoCostoUnitario\", \"fechaInicio\", \"fechaFin\", \"codigosVisualizar\", \"lineasVisualizar\", \"codigosEscogidos\", \"formatoPresentacion\", 4, \"ngIf\"], [1, \"b-t-1\"], [1, \"col-md-7\"], [1, \"col-sm-4\"], [3, \"multiple\"], [\"nivel\", \"\"], [3, \"value\", \"disabled\", \"click\"], [1, \"b-1\", \"shadow-none\"], [3, \"disabled\", \"multiple\"], [\"zon\", \"\"], [3, \"value\", \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"present\", \"\"], [3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"radio-horizontal\", 3, \"multiple\"], [\"lineArt\", \"\"], [\"togglePosition\", \"before\", 3, \"value\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"disabled\", \"lineasDisponibles\", \"codigosEscogidos\"], [1, \"col-md-5\"], [1, \"col-sm-6\"], [3, \"lineasDisponibles\", \"disabled\", \"lineasSeleccionadas\"], [3, \"localesDisponibles\", \"NivelLocal\", \"localesSeleccionados\"], [\"localesElegidos\", \"\"], [1, \"buttons\"], [\"mat-flat-button\", \"\", \"color\", \"warn\", 1, \"m-t-8\", \"b\", 3, \"click\"], [\"mat-flat-button\", \"\", \"color\", \"accent\", 1, \"m-t-8\", \"b\", 3, \"click\"], [3, \"value\", \"click\"], [\"togglePosition\", \"before\", 3, \"value\", \"click\"], [3, \"localesMostrar\", \"lineasMostrar\", \"permisoCostoUnitario\", \"fechaInicio\", \"fechaFin\", \"codigosVisualizar\", \"lineasVisualizar\", \"codigosEscogidos\", \"formatoPresentacion\"]],\n  template: function SaldoInventarioComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"mat-card\", 2)(3, \"mat-card-header\", 3)(4, \"mat-card-title\", 4)(5, \"mat-icon\", 5);\n      i0.ɵɵtext(6, \"search\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"span\");\n      i0.ɵɵtext(8, \"Filtros de B\\u00FAsqueda\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(9, SaldoInventarioComponent_mat_card_content_9_Template, 48, 20, \"mat-card-content\", 6);\n      i0.ɵɵtemplate(10, SaldoInventarioComponent_mat_card_content_10_Template, 2, 0, \"mat-card-content\", 6);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"div\", 0);\n      i0.ɵɵtemplate(12, SaldoInventarioComponent_app_tablas_12_Template, 1, 9, \"app-tablas\", 7);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.autorizado === false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.autorizado === true);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.buscarClicked);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.MatCard, i5.MatCardContent, i5.MatCardHeader, i5.MatCardTitle, i6.MatSelectionList, i6.MatListOption, i7.MatButton, i8.MatIcon, i9.ɵNgNoValidate, i9.NgControlStatusGroup, i9.NgForm, i10.TablasComponent, i11.ListaLocalesComponent, i12.ListaLineasComponent, i13.CodigoArticuloComponent],\n  styles: [\".icon-title[_ngcontent-%COMP%] {\\n  background-color: #faac36;\\n  color: white;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n\\n.icon[_ngcontent-%COMP%] {\\n  margin-right: 10px;\\n}\\n\\n.buttons[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  gap: 10px;\\n  padding: 25px 0 0 0;\\n}\\n\\n.b[_ngcontent-%COMP%] {\\n  width: 40%;\\n}\\n\\n.radio-horizontal[_ngcontent-%COMP%] {\\n  display: flex;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvc2FsZG8taW52ZW50YXJpby9zYWxkby1pbnZlbnRhcmlvLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vLi4vLi4vQ0FFTE9TJTIwSlIlMjAyMDE4L0RvY3VtZW50cy9Qcm95ZWN0byUyMFN0b2NrVGFraW5nL1N0b2NrdGFraW5nLUcyL0NsaWVudGUvc3JjL2FwcC9wYWdlcy9zYWxkby1pbnZlbnRhcmlvL3NhbGRvLWludmVudGFyaW8uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7QUNDSjs7QURFQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsU0FBQTtFQUNBLG1CQUFBO0FDQ0o7O0FERUE7RUFDSSxVQUFBO0FDQ0o7O0FERUE7RUFDSSxhQUFBO0FDQ0o7O0FERUE7Ozs7Ozs7Ozs7Ozs7RUFBQSIsInNvdXJjZXNDb250ZW50IjpbIi5pY29uLXRpdGxlIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWFjMzY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi50aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4uaWNvbiB7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbn1cclxuXHJcbi5idXR0b25zIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGdhcDogMTBweDtcclxuICAgIHBhZGRpbmc6IDI1cHggMCAwIDA7XHJcbn1cclxuXHJcbi5iIHtcclxuICAgIHdpZHRoOiA0MCU7XHJcbn1cclxuXHJcbi5yYWRpby1ob3Jpem9udGFsIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcbi8qLnN0eWxlLWJ1c2NhciB7XHJcbiAgIHBhZGRpbmctbGVmdDogNDAlO1xyXG4gICBwYWRkaW5nLXJpZ2h0OiA0MCU7XHJcbn1cclxuXHJcbi5jb2RpZ28tYXJ0aWN1bG8ge1xyXG4gICAgcGFkZGluZzogMjBweCAwcHggMTBweDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLnN0eWxlMiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn0qL1xyXG5cclxuIiwiLmljb24tdGl0bGUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFhYzM2O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi50aXRsZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLmljb24ge1xuICBtYXJnaW4tcmlnaHQ6IDEwcHg7XG59XG5cbi5idXR0b25zIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAxMHB4O1xuICBwYWRkaW5nOiAyNXB4IDAgMCAwO1xufVxuXG4uYiB7XG4gIHdpZHRoOiA0MCU7XG59XG5cbi5yYWRpby1ob3Jpem9udGFsIHtcbiAgZGlzcGxheTogZmxleDtcbn1cblxuLyouc3R5bGUtYnVzY2FyIHtcbiAgIHBhZGRpbmctbGVmdDogNDAlO1xuICAgcGFkZGluZy1yaWdodDogNDAlO1xufVxuXG4uY29kaWdvLWFydGljdWxvIHtcbiAgICBwYWRkaW5nOiAyMHB4IDBweCAxMHB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLnN0eWxlMiB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn0qLyJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["Swal","i0","presentacionConsolidado","presentacionLocal","SaldoInventarioComponent","constructor","permisos","LocalIdService","obtenerLocal","Date","ngOnInit","localesDisponibles","codigoServicio","listaPermisos","getPermisosSafe","opcionesNivel","permisosNivel","permisoCostoUnitario","lineasDisponibles","acceso","localId","getLocalId","zonaId","getLocalZona","handleLocalesSeleccionados","locales","localesSeleccionados","handleLineasSeleccionadas","lineas","lineasSeleccionadas","handleFechaInicio","Incio","fechaInicio","handleFechaFin","Fin","fechaFin","handleNivelSeleccionado","nivelList","selectedOptions","selected","length","value","typesOfNivel","setInformacionNivel","zonaSeleccionada","niveldelLocal","zonaSelected","NivelLocal","zonasPermitidas","handleCodigosElegidos","codigos","codigosElegidos","onZonaSeleccionada","zon","zonaList","zona","filtraArticulos","lineArticulo","lineArt","mostrarListaLineas","mostrarFiltroCodigo","escogeArticulos","formatoPresentar","present","presentacion","formatoPresentacion","limpiar","window","location","href","showAlert","label","fire","title","icon","timer","imprimirTabla","buscarClicked","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\CAELOS JR 2018\\Documents\\Proyecto StockTaking\\Stocktaking-G2\\Cliente\\src\\app\\pages\\saldo-inventario\\saldo-inventario.component.ts","C:\\Users\\CAELOS JR 2018\\Documents\\Proyecto StockTaking\\Stocktaking-G2\\Cliente\\src\\app\\pages\\saldo-inventario\\saldo-inventario.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { MatSelectionList } from '@angular/material/list';\r\nimport { Permiso } from 'src/app/interfaces/permiso';\r\nimport { ObtenerPermisosService } from 'src/app/services/obtener-permisos.service'\r\nimport { LocalIdService } from 'src/app/services/resources/local.service';\r\nimport { ObtenerLocalInfoService } from 'src/app/services/obtener-local-info.service';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst presentacionConsolidado: string = \"C\";\r\nconst presentacionLocal: string = \"L\";\r\n\r\n@Component({\r\n  selector: 'app-saldo-inventario',\r\n  templateUrl: './saldo-inventario.component.html',\r\n  styleUrls: ['./saldo-inventario.component.scss']\r\n})\r\nexport class SaldoInventarioComponent {\r\n\r\n  @ViewChild('nivel') nivelList: MatSelectionList;\r\n  @ViewChild('zon') zonaList: MatSelectionList;\r\n  @ViewChild('lineArt') lineArt: MatSelectionList;\r\n  @ViewChild('present') present: MatSelectionList;\r\n\r\n  protected buscarClicked: boolean = false;\r\n  fechaInicio: Date = new Date(1900, 1, 1);\r\n  fechaFin: Date = new Date(2200, 31, 12);\r\n  localesSeleccionados: any[] = [];\r\n  zonaSelected: boolean = false;\r\n  lineasSeleccionadas: any[] = [];\r\n  opcionesNivel: boolean[] = []\r\n  NivelLocal: String = \"\";\r\n  listaPermisos: Permiso[] = [];\r\n  codigosElegidos: number[] = []\r\n  lineasDisponibles: String = \"\";\r\n  localesDisponibles: number[] = [];\r\n  codigoServicio: String = \"080509\";\r\n  permisoCostoUnitario: boolean;\r\n  localId: string | null;\r\n  zonaId: number;\r\n  mostrarListaLineas: boolean = false;\r\n  mostrarFiltroCodigo: boolean = false;\r\n  formatoPresentacion: String;\r\n\r\n  constructor(private permisos: ObtenerPermisosService, private LocalIdService: LocalIdService, private obtenerLocal: ObtenerLocalInfoService) { }\r\n\r\n  typesOfNivel: string[] = ['Nacional', 'Zona', 'Local'];\r\n  presentacion: string[] = ['Saldos Consolidados', 'Saldos por Local'];\r\n  lineArticulo: string[] = ['Por Código de Artículo', 'Por Línea de Artículo'];\r\n  zona: string[] = ['Nacional', 'Zona Centro-Norte', 'Zona Sur'];\r\n  zonasPermitidas: boolean[] = [true, true, true];\r\n  acceso: boolean = false\r\n\r\n  async ngOnInit() {\r\n    this.localesDisponibles = await this.permisos.localesDisponibles(this.codigoServicio);\r\n    this.listaPermisos = await this.permisos.getPermisosSafe(this.codigoServicio);\r\n    this.opcionesNivel = await this.permisos.permisosNivel(this.codigoServicio);\r\n    this.permisoCostoUnitario = await this.permisos.permisoCostoUnitario(this.codigoServicio);\r\n    this.lineasDisponibles = await this.permisos.lineasDisponibles(this.codigoServicio);\r\n    this.acceso = true;\r\n    this.localId = this.LocalIdService.getLocalId();\r\n    this.zonaId = await this.obtenerLocal.getLocalZona(this.localId);\r\n  }\r\n\r\n\r\n  handleLocalesSeleccionados(locales: any[]) {\r\n    this.localesSeleccionados = locales;\r\n  }\r\n\r\n  handleLineasSeleccionadas(lineas: any[]) {\r\n    this.lineasSeleccionadas = lineas;\r\n  }\r\n\r\n  handleFechaInicio(Incio: Date) {\r\n    this.fechaInicio = Incio;\r\n  }\r\n\r\n  handleFechaFin(Fin: Date) {\r\n    this.fechaFin = Fin;\r\n  }\r\n\r\n  handleNivelSeleccionado() {\r\n    if (this.nivelList.selectedOptions.selected.length > 0) {\r\n      if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[0]) {\r\n        this.setInformacionNivel(false,\"Nacional\")\r\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[1]) {\r\n        this.setInformacionNivel(true,\"\")\r\n      } else if (this.nivelList.selectedOptions.selected[0].value === this.typesOfNivel[2]) {\r\n        this.setInformacionNivel(false,\"Local\")\r\n      }\r\n    }\r\n  }\r\n\r\n  setInformacionNivel(zonaSeleccionada : boolean, niveldelLocal: string){\r\n    this.zonaSelected = zonaSeleccionada;\r\n    this.NivelLocal = niveldelLocal;\r\n    if (this.zonaSelected){\r\n      if (this.opcionesNivel[2]) {\r\n        this.zonasPermitidas[this.zonaId]= false;\r\n      } else {\r\n        this.zonasPermitidas = [false, false, false];\r\n      }\r\n    }\r\n  }\r\n\r\n  handleCodigosElegidos(codigos: number[]) {\r\n    this.codigosElegidos = codigos;\r\n  }\r\n\r\n  onZonaSeleccionada(zon: string) {\r\n    if (this.zonaList.selectedOptions.selected.length > 0) {\r\n      if (zon === \"Nacional\") {\r\n        this.NivelLocal = \"Nacional\";\r\n      } else if (zon === this.zona[1]) {\r\n        this.NivelLocal = \"Zona 1\";\r\n      } else if (zon === this.zona[2]) {\r\n        this.NivelLocal = \"Zona 2\";\r\n      }\r\n    }\r\n  }\r\n\r\n  filtraArticulos(lineArticulo: string) {\r\n    if (this.lineArt.selectedOptions.selected.length > 0) {\r\n      if (lineArticulo === this.lineArticulo[0]) {\r\n        this.mostrarListaLineas = false;\r\n        this.mostrarFiltroCodigo = true;\r\n      } else if (lineArticulo === this.lineArticulo[1]) {\r\n        this.mostrarListaLineas = true;\r\n        this.mostrarFiltroCodigo = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  escogeArticulos(formatoPresentar: string) {\r\n    if (this.present.selectedOptions.selected.length > 0) {\r\n      if (formatoPresentar === this.presentacion[0]) {\r\n        this.formatoPresentacion = presentacionConsolidado;\r\n      } else if (formatoPresentar === this.presentacion[1]) {\r\n        this.formatoPresentacion = presentacionLocal;\r\n      }\r\n    }\r\n  }\r\n\r\n  limpiar() {\r\n    window.location.href = \"/saldo-inventario\";\r\n  }\r\n  \r\n  showAlert(label: string) {\r\n    Swal.fire({\r\n      title: label,\r\n      icon: 'warning', \r\n      timer: 1500\r\n\r\n    });\r\n  }\r\n\r\n  imprimirTabla() {\r\n    if (this.localesSeleccionados.length == 0) {\r\n      this.showAlert(\"Seleccione local/es\");\r\n      this.buscarClicked = false;\r\n    }\r\n    this.buscarClicked = true;\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-sm-12\">\r\n    <mat-card class=\"cardWithShadow theme-card\">\r\n      <mat-card-header class=\"icon-title\">\r\n        <mat-card-title class=\"m-b-0 title\">\r\n          <mat-icon class=\"icon\">search</mat-icon><span>Filtros de Búsqueda</span>\r\n        </mat-card-title>\r\n      </mat-card-header>\r\n\r\n      <mat-card-content class=\"b-t-1\" *ngIf=\"autorizado === false\">\r\n        <form>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-7\">\r\n              <div class=\"row\">\r\n\r\n                <div class=\"col-sm-4\">\r\n                  <mat-card-title>Nivel</mat-card-title>\r\n                  <mat-selection-list #nivel [multiple]=\"false\">\r\n                    <mat-list-option [value]=\"typesOfNivel[0]\" [disabled]=\"!opcionesNivel[0]\"\r\n                      (click)=\"handleNivelSeleccionado()\">Nacional</mat-list-option>\r\n                    <mat-list-option [value]=\"typesOfNivel[1]\" [disabled]=\"!(opcionesNivel[2] || opcionesNivel[3])\"\r\n                      (click)=\"handleNivelSeleccionado()\">Zona</mat-list-option>\r\n                    <mat-list-option [value]=\"typesOfNivel[2]\" [disabled]=\"!opcionesNivel[1]\"\r\n                      (click)=\"handleNivelSeleccionado()\">Local</mat-list-option>\r\n                  </mat-selection-list>\r\n                </div>\r\n\r\n                <div class=\"col-sm-4\">\r\n                  <mat-card-title> Zonas </mat-card-title>\r\n                  <mat-card class=\"b-1 shadow-none\">\r\n                    <mat-selection-list #zon [disabled]=\"!zonaSelected\" [multiple]=\"false\">\r\n                      <mat-list-option *ngFor=\"let zon of zona; let i = index\" [value]=\"zon\" [disabled]=\"zonasPermitidas[i]\" (click)=\"onZonaSeleccionada(zon)\">\r\n                        {{ zon }}\r\n                      </mat-list-option>\r\n                    </mat-selection-list>\r\n                  </mat-card>\r\n                </div>\r\n\r\n                <div class=\"col-sm-4\">\r\n                  <mat-card-title>Presentación</mat-card-title>\r\n                  <mat-selection-list #present [multiple]=\"false\">\r\n                    <mat-list-option *ngFor=\"let pr of presentacion\" [value]=\"pr\" (click)=\"escogeArticulos(pr)\">\r\n                      {{ pr }}\r\n                    </mat-list-option>\r\n                  </mat-selection-list>\r\n                </div>\r\n\r\n                <div class=\"col-sm-12\">\r\n                  <mat-selection-list #lineArt [multiple]=\"false\" class=\"radio-horizontal\">\r\n                    <mat-list-option togglePosition=\"before\" *ngFor=\"let linArt of lineArticulo\" [value]=\"linArt\"\r\n                      (click)=\"filtraArticulos(linArt)\">\r\n                      {{ linArt }}\r\n                    </mat-list-option>\r\n                  </mat-selection-list>\r\n                </div>\r\n\r\n                <div class=\"col-sm-12\">\r\n                  <app-codigo-articulo [disabled]=\"!mostrarFiltroCodigo\"\r\n                    (codigosEscogidos)=\"handleCodigosElegidos($event)\" [lineasDisponibles]=\"lineasDisponibles\">\r\n                  </app-codigo-articulo>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"col-md-5\">\r\n              <div class=\"row\">\r\n\r\n                <div class=\"col-sm-6\">\r\n                  <app-lista-lineas (lineasSeleccionadas)=\"handleLineasSeleccionadas($event)\"\r\n                    [lineasDisponibles]=\"lineasDisponibles\" [disabled]=\"!mostrarListaLineas\">\r\n                  </app-lista-lineas>\r\n                </div>\r\n\r\n                <div class=\"col-sm-6\">\r\n                  <app-lista-locales #localesElegidos (localesSeleccionados)=\"handleLocalesSeleccionados($event)\"\r\n                    [localesDisponibles]=\"localesDisponibles\" [NivelLocal]=\"NivelLocal\">\r\n                  </app-lista-locales>\r\n                </div>\r\n\r\n                <div class=\"col-sm-12\">\r\n                  <div class=\"buttons\">\r\n                      <button mat-flat-button color=\"warn\" class=\"m-t-8 b\" (click)=\"imprimirTabla()\">\r\n                        Buscar\r\n                      </button>\r\n\r\n                      <button mat-flat-button color=\"accent\" class=\"m-t-8 b\" (click)=\"limpiar()\">\r\n                        Limpiar\r\n                      </button>       \r\n                  </div>\r\n                </div>\r\n                \r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </form>\r\n      </mat-card-content>\r\n      <mat-card-content class=\"b-t-1\" *ngIf=\"autorizado === true\">\r\n        No tienes Acceso\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"row\">\r\n  \r\n    <app-tablas *ngIf=\"buscarClicked\" [localesMostrar]=\"localesSeleccionados\" [lineasMostrar]=\"lineasSeleccionadas\"\r\n      [permisoCostoUnitario]=\"permisoCostoUnitario\" [fechaInicio]=\"fechaInicio\" [fechaFin]=\"fechaFin\"\r\n      [codigosVisualizar]=\"mostrarFiltroCodigo\" [lineasVisualizar]=\"mostrarListaLineas\"\r\n      [codigosEscogidos]=\"codigosElegidos\" [formatoPresentacion]=\"formatoPresentacion\">\r\n    </app-tablas>\r\n  \r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}